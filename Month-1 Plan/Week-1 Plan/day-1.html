<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Day 1 Master Handbook ‚Äî Arrays + SQL Indexing + URL Shortener</title>
<style>
  :root {
    --bg: #0d1117;
    --surface: #161b22;
    --surface2: #1c2128;
    --border: #30363d;
    --accent: #58a6ff;
    --accent2: #f78166;
    --accent3: #3fb950;
    --accent4: #d29922;
    --accent5: #bc8cff;
    --text: #e6edf3;
    --text-muted: #8b949e;
    --code-bg: #1e2736;
    --red: #f85149;
    --yellow: #d29922;
    --green: #3fb950;
    --purple: #bc8cff;
    --orange: #f78166;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
    background: var(--bg);
    color: var(--text);
    line-height: 1.7;
    font-size: 15px;
  }

  .toc-bar {
    background: var(--surface);
    border-bottom: 1px solid var(--border);
    padding: 12px 24px;
    position: sticky;
    top: 0;
    z-index: 100;
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
  }

  .toc-bar a {
    color: var(--accent);
    text-decoration: none;
    font-size: 13px;
    font-weight: 600;
    padding: 4px 10px;
    border-radius: 20px;
    border: 1px solid var(--border);
    transition: all 0.2s;
  }

  .toc-bar a:hover { background: var(--accent); color: #000; }

  .container { max-width: 1100px; margin: 0 auto; padding: 40px 24px; }

  .hero {
    text-align: center;
    padding: 60px 0 40px;
    border-bottom: 2px solid var(--border);
    margin-bottom: 60px;
  }

  .hero h1 {
    font-size: 2.8em;
    font-weight: 800;
    background: linear-gradient(135deg, var(--accent), var(--purple), var(--accent3));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 16px;
  }

  .hero p { color: var(--text-muted); font-size: 1.1em; }

  .badge {
    display: inline-block;
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 700;
    margin: 4px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .badge-dsa { background: rgba(88,166,255,0.15); color: var(--accent); border: 1px solid var(--accent); }
  .badge-db { background: rgba(247,129,102,0.15); color: var(--orange); border: 1px solid var(--orange); }
  .badge-sys { background: rgba(63,185,80,0.15); color: var(--green); border: 1px solid var(--green); }

  .topic-section {
    margin-bottom: 80px;
    border: 1px solid var(--border);
    border-radius: 12px;
    overflow: hidden;
  }

  .topic-header {
    padding: 28px 32px;
    border-bottom: 2px solid var(--border);
    display: flex;
    align-items: center;
    gap: 16px;
  }

  .topic-header.dsa { background: linear-gradient(135deg, rgba(88,166,255,0.08), rgba(88,166,255,0.02)); border-left: 4px solid var(--accent); }
  .topic-header.db { background: linear-gradient(135deg, rgba(247,129,102,0.08), rgba(247,129,102,0.02)); border-left: 4px solid var(--orange); }
  .topic-header.sys { background: linear-gradient(135deg, rgba(63,185,80,0.08), rgba(63,185,80,0.02)); border-left: 4px solid var(--green); }

  .topic-header h2 { font-size: 1.8em; font-weight: 800; }

  .topic-body { padding: 32px; }

  .section-block {
    margin-bottom: 40px;
    padding: 24px;
    background: var(--surface);
    border-radius: 10px;
    border: 1px solid var(--border);
  }

  .section-block h3 {
    font-size: 1.15em;
    font-weight: 700;
    margin-bottom: 18px;
    padding-bottom: 10px;
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    gap: 8px;
  }

  p { margin-bottom: 12px; }

  ul, ol { padding-left: 24px; }
  ul li, ol li { margin-bottom: 8px; }

  strong { color: var(--accent); }
  em { color: var(--accent4); font-style: normal; font-weight: 600; }

  code {
    background: var(--code-bg);
    padding: 2px 7px;
    border-radius: 4px;
    font-family: 'JetBrains Mono', 'Fira Code', 'Courier New', monospace;
    font-size: 0.88em;
    color: #f0a500;
  }

  pre {
    background: var(--code-bg);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 20px;
    overflow-x: auto;
    margin: 16px 0;
    position: relative;
  }

  pre code {
    background: none;
    padding: 0;
    color: #e6edf3;
    font-size: 0.9em;
    line-height: 1.8;
  }

  .highlight-green { color: var(--green); }
  .highlight-red { color: var(--red); }
  .highlight-yellow { color: var(--yellow); }
  .highlight-blue { color: var(--accent); }
  .highlight-purple { color: var(--purple); }
  .highlight-orange { color: var(--orange); }

  .callout {
    padding: 16px 20px;
    border-radius: 8px;
    margin: 16px 0;
    border-left: 4px solid;
    font-size: 0.95em;
  }

  .callout-danger { background: rgba(248,81,73,0.08); border-color: var(--red); }
  .callout-warning { background: rgba(210,153,34,0.08); border-color: var(--yellow); }
  .callout-info { background: rgba(88,166,255,0.08); border-color: var(--accent); }
  .callout-success { background: rgba(63,185,80,0.08); border-color: var(--green); }

  .callout-title { font-weight: 700; margin-bottom: 6px; font-size: 0.9em; text-transform: uppercase; letter-spacing: 0.5px; }
  .callout-danger .callout-title { color: var(--red); }
  .callout-warning .callout-title { color: var(--yellow); }
  .callout-info .callout-title { color: var(--accent); }
  .callout-success .callout-title { color: var(--green); }

  .diagram {
    background: #0d1117;
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 20px;
    margin: 16px 0;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.85em;
    overflow-x: auto;
    white-space: pre;
    line-height: 1.6;
    color: #a8d8a8;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    margin: 16px 0;
    font-size: 0.9em;
  }

  th {
    background: var(--surface2);
    padding: 12px 16px;
    text-align: left;
    font-weight: 700;
    border: 1px solid var(--border);
    color: var(--accent);
  }

  td {
    padding: 10px 16px;
    border: 1px solid var(--border);
    vertical-align: top;
  }

  tr:nth-child(even) td { background: rgba(255,255,255,0.02); }

  .complexity-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 12px;
    margin: 16px 0;
  }

  .complexity-card {
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 16px;
    text-align: center;
  }

  .complexity-card .complexity-value {
    font-size: 1.5em;
    font-weight: 800;
    font-family: monospace;
    margin-bottom: 6px;
  }

  .complexity-card .complexity-label {
    font-size: 0.8em;
    color: var(--text-muted);
  }

  .remember-box {
    background: linear-gradient(135deg, rgba(188,140,255,0.08), rgba(88,166,255,0.08));
    border: 1px solid var(--purple);
    border-radius: 10px;
    padding: 20px 24px;
    margin: 16px 0;
  }

  .remember-box h4 {
    color: var(--purple);
    font-size: 0.9em;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 14px;
    font-weight: 700;
  }

  .remember-box li { margin-bottom: 8px; }

  .summary-box {
    background: linear-gradient(135deg, rgba(63,185,80,0.06), rgba(88,166,255,0.06));
    border: 1px solid var(--green);
    border-radius: 10px;
    padding: 20px 24px;
    margin: 16px 0;
  }

  .summary-box h4 {
    color: var(--green);
    font-size: 0.9em;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 14px;
    font-weight: 700;
  }

  .interview-box {
    background: rgba(210,153,34,0.06);
    border: 1px solid var(--yellow);
    border-radius: 10px;
    padding: 20px 24px;
    margin: 16px 0;
  }

  .interview-box h4 {
    color: var(--yellow);
    font-size: 0.9em;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 14px;
    font-weight: 700;
  }

  .cross-topic {
    background: linear-gradient(135deg, var(--surface), var(--surface2));
    border: 2px solid var(--purple);
    border-radius: 12px;
    padding: 32px;
    margin-bottom: 60px;
  }

  .rapid-revision {
    background: var(--surface);
    border: 2px solid var(--accent3);
    border-radius: 12px;
    padding: 32px;
    margin-bottom: 60px;
  }

  .rapid-revision h2, .cross-topic h2 {
    font-size: 1.8em;
    margin-bottom: 24px;
  }

  .two-col {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin: 16px 0;
  }

  @media (max-width: 768px) {
    .two-col { grid-template-columns: 1fr; }
    .complexity-grid { grid-template-columns: repeat(2, 1fr); }
    .topic-header h2 { font-size: 1.4em; }
  }

  .pill {
    display: inline-block;
    padding: 2px 10px;
    border-radius: 20px;
    font-size: 0.75em;
    font-weight: 700;
    margin-left: 8px;
    vertical-align: middle;
  }

  .pill-fast { background: rgba(63,185,80,0.2); color: var(--green); }
  .pill-slow { background: rgba(248,81,73,0.2); color: var(--red); }
  .pill-medium { background: rgba(210,153,34,0.2); color: var(--yellow); }
  .pill-new { background: rgba(88,166,255,0.2); color: var(--accent); }

  hr { border: none; border-top: 1px solid var(--border); margin: 24px 0; }

  .step-list { counter-reset: steps; list-style: none; padding: 0; }
  .step-list li {
    counter-increment: steps;
    padding: 12px 12px 12px 52px;
    position: relative;
    margin-bottom: 8px;
    background: var(--surface2);
    border-radius: 8px;
  }
  .step-list li::before {
    content: counter(steps);
    position: absolute;
    left: 14px;
    top: 50%;
    transform: translateY(-50%);
    width: 26px;
    height: 26px;
    background: var(--accent);
    color: #000;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 800;
    font-size: 0.85em;
  }

  /* ‚îÄ‚îÄ Resources Section ‚îÄ‚îÄ */
  .resources-section {
    margin-bottom: 80px;
    border: 2px solid #2a3a5c;
    border-radius: 12px;
    overflow: hidden;
    background: linear-gradient(135deg, rgba(88,166,255,0.03), rgba(188,140,255,0.03));
  }

  .resources-header {
    padding: 28px 32px;
    background: linear-gradient(135deg, rgba(88,166,255,0.1), rgba(188,140,255,0.05));
    border-bottom: 1px solid var(--border);
  }

  .resources-header h2 { font-size: 1.8em; font-weight: 800; }

  .resources-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 0;
  }

  .resource-category {
    padding: 28px 32px;
    border-right: 1px solid var(--border);
    border-bottom: 1px solid var(--border);
  }

  .resource-category:last-child { border-right: none; }

  .resource-category h3 {
    font-size: 1em;
    font-weight: 700;
    margin-bottom: 16px;
    padding-bottom: 8px;
    border-bottom: 2px solid var(--border);
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .resource-link {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    padding: 12px;
    border-radius: 8px;
    margin-bottom: 8px;
    border: 1px solid var(--border);
    background: var(--surface);
    text-decoration: none;
    transition: all 0.2s;
    cursor: pointer;
  }

  .resource-link:hover { border-color: var(--accent); background: rgba(88,166,255,0.05); }

  .resource-icon {
    width: 36px;
    height: 36px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2em;
    flex-shrink: 0;
  }

  .resource-icon.video { background: rgba(248,81,73,0.15); }
  .resource-icon.article { background: rgba(88,166,255,0.15); }
  .resource-icon.course { background: rgba(63,185,80,0.15); }
  .resource-icon.visual { background: rgba(210,153,34,0.15); }
  .resource-icon.practice { background: rgba(188,140,255,0.15); }
  .resource-icon.book { background: rgba(247,129,102,0.15); }

  .resource-info { flex: 1; }
  .resource-title { font-weight: 600; font-size: 0.9em; color: var(--text); margin-bottom: 3px; }
  .resource-meta { font-size: 0.78em; color: var(--text-muted); }
  .resource-tag {
    display: inline-block;
    padding: 1px 7px;
    border-radius: 10px;
    font-size: 0.7em;
    font-weight: 700;
    margin-left: 6px;
    vertical-align: middle;
  }
  .tag-free { background: rgba(63,185,80,0.2); color: var(--green); }
  .tag-paid { background: rgba(210,153,34,0.2); color: var(--yellow); }
  .tag-interactive { background: rgba(88,166,255,0.2); color: var(--accent); }
  .tag-visual { background: rgba(188,140,255,0.2); color: var(--purple); }

  /* ‚îÄ‚îÄ Extended Deep Dive blocks ‚îÄ‚îÄ */
  .deep-block {
    background: var(--surface2);
    border-left: 3px solid var(--accent5);
    border-radius: 0 8px 8px 0;
    padding: 20px 24px;
    margin: 16px 0;
  }

  .deep-block h4 { color: var(--purple); margin-bottom: 10px; font-size: 0.95em; text-transform: uppercase; letter-spacing: 0.5px; }

  .qa-block {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 16px 20px;
    margin: 10px 0;
  }

  .qa-q { color: var(--accent4); font-weight: 700; font-size: 0.9em; margin-bottom: 6px; }
  .qa-a { font-size: 0.9em; color: var(--text); }

  .flow-row {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-wrap: wrap;
    margin: 12px 0;
    font-size: 0.9em;
  }

  .flow-box {
    padding: 6px 14px;
    border-radius: 6px;
    border: 1px solid var(--border);
    background: var(--surface2);
    font-weight: 600;
    white-space: nowrap;
  }

  .flow-arrow { color: var(--text-muted); font-size: 1.2em; }

  .mental-model {
    background: linear-gradient(135deg, rgba(63,185,80,0.05), rgba(88,166,255,0.05));
    border: 1px dashed var(--green);
    border-radius: 8px;
    padding: 16px 20px;
    margin: 12px 0;
    font-style: italic;
    font-size: 0.95em;
  }

  .mental-model::before { content: "üí° Mental Model: "; font-style: normal; font-weight: 700; color: var(--green); }

  .warning-strip {
    background: rgba(248,81,73,0.06);
    border: 1px solid rgba(248,81,73,0.3);
    border-radius: 6px;
    padding: 10px 14px;
    margin: 8px 0;
    font-size: 0.88em;
  }

  .warning-strip::before { content: "üö® "; }

  @media (max-width: 768px) {
    .resources-grid { grid-template-columns: 1fr; }
    .resource-category { border-right: none; }
  }
</style>
</head>
<body>

<nav class="toc-bar">
  <a href="#big-o">üìä Big-O</a>
  <a href="#arrays">üî¢ Arrays</a>
  <a href="#btree">üóÑ B-Tree</a>
  <a href="#url-shortener">üèó URL Shortener</a>
  <a href="#deep-dives">üî¨ Deep Dives</a>
  <a href="#cross-topic">üß† Cross-Topic</a>
  <a href="#rapid-revision">üèÜ Revision</a>
  <a href="#resources">üìö Resources</a>
</nav>

<div class="container">

<div class="hero">
  <h1>‚ö° Day 1 Master Handbook</h1>
  <p>A self-contained, deeply technical reference for every topic in your Day 1 roadmap.</p>
  <div style="margin-top:16px">
    <span class="badge badge-dsa">üß† DSA</span>
    <span class="badge badge-dsa">üìä Big-O Complexity</span>
    <span class="badge badge-dsa">üî¢ Arrays</span>
    <span class="badge badge-db">üóÑ SQL B-Tree Indexing</span>
    <span class="badge badge-sys">üèó URL Shortener Design</span>
  </div>
</div>


<!-- ============================= TOPIC 1: BIG-O ============================= -->
<div id="big-o" class="topic-section">
  <div class="topic-header dsa">
    <div>
      <h2>üî• Big-O Complexity</h2>
      <div style="margin-top:8px; color: var(--text-muted); font-size:0.9em">Time & Space ‚Äî The language of algorithm efficiency</div>
    </div>
  </div>

  <div class="topic-body">

    <!-- Section 1: Intuition -->
    <div class="section-block">
      <h3>üß† 1. Intuition First</h3>
      <p>Big-O answers one question: <strong>how does runtime grow as input grows?</strong></p>
      <p>Think of it like this: your code works fine with 100 rows. Then your client uploads 10 million. Does it still finish before the user gives up? Big-O tells you whether to panic or not.</p>
      <p><em>Real-world analogy:</em> A linear scan (O(n)) is like reading every page of a book to find a word. Binary search (O(log n)) is like using the index ‚Äî jump straight to the right section. A nested loop (O(n¬≤)) is like comparing every person in a city with every other person.</p>
      <div class="callout callout-info">
        <div class="callout-title">‚ÑπÔ∏è The Core Insight</div>
        Big-O is about <strong>worst-case growth rate</strong>, not actual speed. Constants get dropped. The dominant term wins. O(2n + 500) = O(n).
      </div>
    </div>

    <!-- Section 2: Core Mechanics -->
    <div class="section-block">
      <h3>‚öôÔ∏è 2. Core Mechanics</h3>

      <h4 style="color:var(--accent4); margin: 12px 0 8px">The Complexity Ladder (best ‚Üí worst)</h4>
      <div class="complexity-grid">
        <div class="complexity-card" style="border-color: var(--green)">
          <div class="complexity-value" style="color:var(--green)">O(1)</div>
          <div class="complexity-label">Constant<br>Array index, HashMap get</div>
        </div>
        <div class="complexity-card" style="border-color: var(--green)">
          <div class="complexity-value" style="color:var(--green)">O(log n)</div>
          <div class="complexity-label">Logarithmic<br>Binary search, B-Tree lookup</div>
        </div>
        <div class="complexity-card" style="border-color: var(--accent)">
          <div class="complexity-value" style="color:var(--accent)">O(n)</div>
          <div class="complexity-label">Linear<br>Single loop, linear scan</div>
        </div>
        <div class="complexity-card" style="border-color: var(--accent4)">
          <div class="complexity-value" style="color:var(--accent4)">O(n log n)</div>
          <div class="complexity-label">Linearithmic<br>Merge sort, heap sort</div>
        </div>
        <div class="complexity-card" style="border-color: var(--yellow)">
          <div class="complexity-value" style="color:var(--yellow)">O(n¬≤)</div>
          <div class="complexity-label">Quadratic<br>Nested loops, bubble sort</div>
        </div>
        <div class="complexity-card" style="border-color: var(--red)">
          <div class="complexity-value" style="color:var(--red)">O(2‚Åø)</div>
          <div class="complexity-label">Exponential<br>Recursive subsets</div>
        </div>
      </div>

      <h4 style="color:var(--accent4); margin: 20px 0 8px">Pattern ‚Üí Complexity Mapping</h4>
      <table>
        <tr><th>Code Pattern</th><th>Complexity</th><th>Why</th></tr>
        <tr><td><code>arr[i]</code> or <code>map.get(key)</code></td><td><span style="color:var(--green)">O(1)</span></td><td>Direct memory address or hash slot</td></tr>
        <tr><td><code>for i in range(n)</code></td><td><span style="color:var(--accent)">O(n)</span></td><td>Visits each element once</td></tr>
        <tr><td>Nested <code>for i... for j...</code></td><td><span style="color:var(--yellow)">O(n¬≤)</span></td><td>n √ó n iterations</td></tr>
        <tr><td><code>sort(arr)</code> + single loop</td><td><span style="color:var(--accent4)">O(n log n)</span></td><td>Sort dominates</td></tr>
        <tr><td>Binary search</td><td><span style="color:var(--green)">O(log n)</span></td><td>Halves search space each step</td></tr>
        <tr><td>HashMap build + single scan</td><td><span style="color:var(--accent)">O(n)</span></td><td>O(n) build + O(n) scan = O(n)</td></tr>
        <tr><td>Sort ‚Üí binary search</td><td><span style="color:var(--accent4)">O(n log n + log n)</span> = <span style="color:var(--accent4)">O(n log n)</span></td><td>Sort dominates</td></tr>
      </table>

      <h4 style="color:var(--accent4); margin: 20px 0 8px">O(n) vs O(n log n) ‚Äî Why does sorting cost more?</h4>
      <div class="diagram">Input: [5, 2, 8, 1, 9, 3]  (n = 6)

O(n) single loop ‚Äî touch each once:
5 ‚Üí 2 ‚Üí 8 ‚Üí 1 ‚Üí 9 ‚Üí 3   [6 operations]

O(n log n) merge sort ‚Äî divide and conquer:
Level 0:  [5,2,8,1,9,3]                     ‚Üê split
Level 1:  [5,2,8]      [1,9,3]              ‚Üê split again
Level 2:  [5,2] [8]    [1,9] [3]            ‚Üê split
Level 3:  [5][2][8]    [1][9][3]            ‚Üê base case
           ‚Üë‚Üë‚Üë merge back up ‚Üë‚Üë‚Üë
Total levels = log‚ÇÇ(6) ‚âà 3
Work per level = n = 6
Total = n √ó log n ‚âà 6 √ó 3 = 18 operations</div>

      <h4 style="color:var(--accent4); margin: 20px 0 8px">Space Complexity</h4>
      <table>
        <tr><th>Pattern</th><th>Space</th><th>Example</th></tr>
        <tr><td>Fixed variables</td><td>O(1)</td><td><code>max_val = 0</code></td></tr>
        <tr><td>Result array same size as input</td><td>O(n)</td><td>Prefix sum array</td></tr>
        <tr><td>HashMap storing all elements</td><td>O(n)</td><td>Frequency map</td></tr>
        <tr><td>Recursive call stack depth</td><td>O(log n) or O(n)</td><td>Binary search: O(log n), DFS: O(n)</td></tr>
        <tr><td>2D grid / DP table</td><td>O(n¬≤)</td><td>Edit distance</td></tr>
      </table>
    </div>

    <!-- Section 3: Scale -->
    <div class="section-block">
      <h3>üö® 3. What Breaks at Scale?</h3>
      <table>
        <tr><th>Input n</th><th>O(n)</th><th>O(n log n)</th><th>O(n¬≤)</th><th>O(2‚Åø)</th></tr>
        <tr><td>100</td><td>0.0001ms</td><td>0.0007ms</td><td>0.01ms</td><td>üí• Universe age</td></tr>
        <tr><td>10,000</td><td>0.01ms</td><td>0.13ms</td><td>100ms</td><td>üí•</td></tr>
        <tr><td>1,000,000</td><td>1ms</td><td>20ms</td><td>16.7 minutes</td><td>üí•</td></tr>
        <tr><td>10,000,000</td><td>10ms</td><td>233ms</td><td>1.16 days</td><td>üí•</td></tr>
      </table>
      <div class="callout callout-danger">
        <div class="callout-title">‚ö†Ô∏è Production Trap</div>
        An O(n¬≤) algorithm on 10M rows = over a day of compute. This is why nested loops over large datasets are production killers. Always ask: "What's the max n in prod?"
      </div>
    </div>

    <!-- Section 4: Production Reality -->
    <div class="section-block">
      <h3>üèó 4. Production Reality</h3>
      <ul>
        <li><strong>Constants matter in practice:</strong> O(n) with a constant of 1000 can be slower than O(n¬≤) for small n. Always benchmark.</li>
        <li><strong>Space vs Time tradeoff:</strong> HashMaps trade O(n) space for O(1) lookup time. This is almost always worth it.</li>
        <li><strong>Cache misses kill performance:</strong> An array traversal (O(n)) is often faster in practice than a linked list (also O(n)) due to CPU cache locality.</li>
        <li><strong>Amortized complexity:</strong> ArrayList/dynamic array append is O(1) amortized, O(n) worst case ‚Äî know the difference.</li>
      </ul>
    </div>

    <!-- Section 5: Interview -->
    <div class="section-block">
      <h3>üîç 5. Interview Angle</h3>
      <div class="interview-box">
        <h4>üéØ Say These in Interviews</h4>
        <ul>
          <li>"My brute force is O(n¬≤) because of nested iteration. I can eliminate the inner loop using a HashMap, reducing it to O(n) time with O(n) space."</li>
          <li>"Sorting costs O(n log n), so if I sort first and use binary search, total complexity is O(n log n), dominated by the sort."</li>
          <li>"With 10 million inputs, O(n¬≤) is completely infeasible ‚Äî that's days of compute. O(n log n) finishes in under a second."</li>
          <li>"Space complexity is O(n) here because my HashMap can store up to n entries in the worst case."</li>
        </ul>
      </div>
      <div class="callout callout-warning">
        <div class="callout-title">‚ö†Ô∏è Common Traps</div>
        <ul>
          <li>Forgetting to account for the sort step in "sort + single pass" solutions</li>
          <li>Calling HashMap lookup O(1) without mentioning it assumes good hash distribution</li>
          <li>Ignoring space complexity when the interviewer cares about memory-constrained environments</li>
        </ul>
      </div>
    </div>

    <!-- Section 6: Code -->
    <div class="section-block">
      <h3>üß© 6. Practical Code</h3>
<pre><code><span class="highlight-green"># Identify complexity at a glance</span>

<span class="highlight-blue">def</span> <span class="highlight-orange">single_loop</span>(arr):          <span class="highlight-green"># O(n) time, O(1) space</span>
    max_val = 0
    <span class="highlight-blue">for</span> x <span class="highlight-blue">in</span> arr:
        max_val = max(max_val, x)
    <span class="highlight-blue">return</span> max_val

<span class="highlight-blue">def</span> <span class="highlight-orange">nested_loop</span>(arr):           <span class="highlight-green"># O(n¬≤) time, O(1) space</span>
    <span class="highlight-blue">for</span> i <span class="highlight-blue">in</span> range(len(arr)):
        <span class="highlight-blue">for</span> j <span class="highlight-blue">in</span> range(i+1, len(arr)):
            <span class="highlight-blue">if</span> arr[i] == arr[j]: <span class="highlight-blue">return True</span>
    <span class="highlight-blue">return False</span>

<span class="highlight-blue">def</span> <span class="highlight-orange">hashmap_lookup</span>(arr):        <span class="highlight-green"># O(n) time, O(n) space</span>
    seen = set()
    <span class="highlight-blue">for</span> x <span class="highlight-blue">in</span> arr:
        <span class="highlight-blue">if</span> x <span class="highlight-blue">in</span> seen: <span class="highlight-blue">return True</span>
        seen.add(x)
    <span class="highlight-blue">return False</span>

<span class="highlight-blue">def</span> <span class="highlight-orange">sort_then_scan</span>(arr):        <span class="highlight-green"># O(n log n) time, O(1) extra space</span>
    arr.sort()                   <span class="highlight-green"># O(n log n)</span>
    <span class="highlight-blue">for</span> i <span class="highlight-blue">in</span> range(1, len(arr)):  <span class="highlight-green"># O(n)</span>
        <span class="highlight-blue">if</span> arr[i] == arr[i-1]: <span class="highlight-blue">return True</span>
    <span class="highlight-blue">return False</span></code></pre>
    </div>

    <!-- Remember -->
    <div class="remember-box">
      <h4>üéØ Absolutely Remember These</h4>
      <ul>
        <li>Drop constants: O(3n) = O(n), O(n + 1000) = O(n)</li>
        <li>The dominant term wins: O(n¬≤ + n) = O(n¬≤)</li>
        <li>HashMap get/set = O(1) average, O(n) worst case (hash collision)</li>
        <li>Sort = O(n log n). Anything that sorts has at least O(n log n) time</li>
        <li>Space complexity counts auxiliary space ‚Äî often interviewers allow O(n) extra space</li>
        <li>At n = 10M: O(n) ‚úÖ, O(n log n) ‚úÖ, O(n¬≤) üíÄ</li>
      </ul>
    </div>

    <div class="summary-box">
      <h4>üìù 60-Second Summary</h4>
      <p>Big-O measures how runtime scales with input size, not absolute speed. Drop constants and lower-order terms ‚Äî only the dominant term matters. Single loop = O(n). Nested loops = O(n¬≤). HashMap trades O(n) space for O(1) lookup ‚Äî almost always worth it. Sort adds O(n log n). At production scale (millions of rows), O(n¬≤) is a bug, not just a slowness. Always state time AND space complexity in interviews, and always ask "what is n in production?"</p>
    </div>

  </div>
</div>


<!-- ============================= TOPIC 2: ARRAYS ============================= -->
<div id="arrays" class="topic-section">
  <div class="topic-header dsa">
    <div>
      <h2>üî• Array Algorithms & Patterns</h2>
      <div style="margin-top:8px; color: var(--text-muted); font-size:0.9em">Duplicate Detection ¬∑ Prefix Sum ¬∑ Subarray Logic ¬∑ Sliding Window</div>
    </div>
  </div>

  <div class="topic-body">

    <div class="section-block">
      <h3>üß† 1. Intuition First</h3>
      <p>Arrays are the most fundamental data structure because they map directly to how RAM works ‚Äî <strong>contiguous memory, O(1) indexed access</strong>. Every array algorithm problem is ultimately about: "How do I avoid redundant work?"</p>
      <p>The breakthrough moment is realizing that most O(n¬≤) array problems can be reduced to O(n) by:</p>
      <ul>
        <li><strong>Trading space for time</strong> ‚Äî use a HashSet/HashMap to remember what you've seen</li>
        <li><strong>Building running aggregates</strong> ‚Äî prefix sums, sliding windows, monotonic stacks</li>
        <li><strong>Pattern recognition</strong> ‚Äî is this a "two-pointer"? A "frequency map"? A "window"?</li>
      </ul>
    </div>

    <div class="section-block">
      <h3>‚öôÔ∏è 2. Core Patterns ‚Äî Deep Breakdown</h3>

      <h4 style="color:var(--orange); margin: 16px 0 8px">Pattern 1: Duplicate Detection</h4>

      <p><strong>Brute Force O(n¬≤):</strong> Compare every pair ‚Äî nested loop.</p>
      <p><strong>Optimized O(n):</strong> HashSet ‚Äî insert as you go, check before inserting.</p>

<pre><code><span class="highlight-green"># O(n) time, O(n) space ‚Äî HashSet approach</span>
<span class="highlight-blue">def</span> <span class="highlight-orange">has_duplicate</span>(nums):
    seen = set()
    <span class="highlight-blue">for</span> num <span class="highlight-blue">in</span> nums:
        <span class="highlight-blue">if</span> num <span class="highlight-blue">in</span> seen:     <span class="highlight-green"># O(1) average lookup</span>
            <span class="highlight-blue">return True</span>
        seen.add(num)
    <span class="highlight-blue">return False</span>

<span class="highlight-green"># Variant: Return the duplicate value (Floyd's Cycle ‚Äî O(1) space)</span>
<span class="highlight-blue">def</span> <span class="highlight-orange">find_duplicate</span>(nums):   <span class="highlight-green"># Array values in range [1, n], length n+1</span>
    slow, fast = nums[0], nums[nums[0]]
    <span class="highlight-blue">while</span> slow != fast:
        slow = nums[slow]
        fast = nums[nums[fast]]
    slow = 0
    <span class="highlight-blue">while</span> slow != fast:
        slow = nums[slow]
        fast = nums[fast]
    <span class="highlight-blue">return</span> slow   <span class="highlight-green"># O(n) time, O(1) space ‚Äî treats array as linked list</span></code></pre>

      <h4 style="color:var(--orange); margin: 24px 0 8px">Pattern 2: Prefix Sum</h4>
      <p>Prefix sums pre-compute cumulative totals so any subarray sum query is answered in O(1) instead of O(n).</p>
      <div class="diagram">Array:    [3,  1,  4,  1,  5,  9,  2,  6]
Index:     0   1   2   3   4   5   6   7

Prefix:   [0,  3,  4,  8,  9, 14, 23, 25, 31]
            ‚Üë
           prefix[0] = 0 (empty prefix)

Sum of arr[2..5] = prefix[6] - prefix[2] = 23 - 4 = 19
                   ‚Üë O(1) query!  ‚Üë
                   (without prefix: loop from 2 to 5 = O(n))</div>

<pre><code><span class="highlight-blue">def</span> <span class="highlight-orange">subarray_sum_equals_k</span>(nums, k):
    <span class="highlight-green"># Count subarrays where sum == k</span>
    <span class="highlight-green"># Key insight: if prefix[j] - prefix[i] == k, then prefix[i] == prefix[j] - k</span>
    prefix_counts = {0: 1}   <span class="highlight-green"># empty prefix seen once</span>
    current_sum = 0
    count = 0
    <span class="highlight-blue">for</span> num <span class="highlight-blue">in</span> nums:
        current_sum += num
        target = current_sum - k
        count += prefix_counts.get(target, 0)   <span class="highlight-green"># how many times did we see target prefix?</span>
        prefix_counts[current_sum] = prefix_counts.get(current_sum, 0) + 1
    <span class="highlight-blue">return</span> count
<span class="highlight-green"># O(n) time, O(n) space</span></code></pre>

      <h4 style="color:var(--orange); margin: 24px 0 8px">Pattern 3: Sliding Window</h4>
      <div class="diagram">Fixed window of size k=3:
Array: [2, 1, 5, 1, 3, 2]
        [2+1+5]           = 8  ‚Üê window slides right
           [1+5+1]        = 7  ‚Üê add right, remove left (O(1)!)
              [5+1+3]     = 9  ‚Üê max window sum = 9
                 [1+3+2]  = 6

Variable window (expand right until violated, shrink left):
Find longest substring without repeating chars</div>

<pre><code><span class="highlight-green"># Maximum sum subarray of size k ‚Äî O(n)</span>
<span class="highlight-blue">def</span> <span class="highlight-orange">max_subarray_sum</span>(arr, k):
    window_sum = sum(arr[:k])
    max_sum = window_sum
    <span class="highlight-blue">for</span> i <span class="highlight-blue">in</span> range(k, len(arr)):
        window_sum += arr[i] - arr[i-k]   <span class="highlight-green"># slide: add right, remove left</span>
        max_sum = max(max_sum, window_sum)
    <span class="highlight-blue">return</span> max_sum</code></pre>

      <h4 style="color:var(--orange); margin: 24px 0 8px">Pattern 4: Two Pointers</h4>
<pre><code><span class="highlight-green"># Two Sum in sorted array ‚Äî O(n) time, O(1) space</span>
<span class="highlight-blue">def</span> <span class="highlight-orange">two_sum_sorted</span>(arr, target):
    left, right = 0, len(arr)-1
    <span class="highlight-blue">while</span> left < right:
        s = arr[left] + arr[right]
        <span class="highlight-blue">if</span> s == target: <span class="highlight-blue">return</span> [left, right]
        <span class="highlight-blue">elif</span> s < target: left += 1    <span class="highlight-green"># need more</span>
        <span class="highlight-blue">else</span>: right -= 1              <span class="highlight-green"># too much</span></code></pre>
    </div>

    <div class="section-block">
      <h3>üö® 3. What Breaks at Scale?</h3>
      <ul>
        <li><strong>10M elements:</strong> Even O(n) = ~10ms ‚Äî fine. But your HashMap now uses ~400MB RAM for int keys. Memory becomes the bottleneck.</li>
        <li><strong>Streaming data:</strong> Can't load 10M rows into memory for prefix sum. Need online algorithms (running sum) instead.</li>
        <li><strong>Integer overflow:</strong> Prefix sum on 10M elements each = 10‚Åπ can overflow 32-bit int. Always use 64-bit (long/int64).</li>
      </ul>
    </div>

    <div class="section-block">
      <h3>üîç 5. Interview Angle</h3>
      <div class="interview-box">
        <h4>üéØ Pattern Recognition Playbook</h4>
        <table>
          <tr><th>If you see...</th><th>Think...</th><th>Complexity</th></tr>
          <tr><td>"Subarray sum == k"</td><td>Prefix sum + HashMap</td><td>O(n)</td></tr>
          <tr><td>"Longest/smallest subarray with condition"</td><td>Sliding window</td><td>O(n)</td></tr>
          <tr><td>"Find duplicate / seen before"</td><td>HashSet</td><td>O(n)</td></tr>
          <tr><td>"Sorted array, find pair"</td><td>Two pointers</td><td>O(n)</td></tr>
          <tr><td>"All subarrays" (brute)</td><td>Avoid O(n¬≤), use prefix sum</td><td>O(n)</td></tr>
          <tr><td>"Max profit buy/sell stock"</td><td>Single pass, track running min</td><td>O(n)</td></tr>
        </table>
      </div>
    </div>

    <div class="remember-box">
      <h4>üéØ Absolutely Remember These</h4>
      <ul>
        <li>Brute force first, then optimize ‚Äî always state your brute force approach to interviewers</li>
        <li>Prefix sum converts "subarray sum queries" from O(n) to O(1) ‚Äî but costs O(n) build time and space</li>
        <li>Sliding window requires knowing what "invalidates" the window to know when to shrink</li>
        <li>Two pointers only work on sorted arrays (or arrays where the pointer movement logic is valid)</li>
        <li>HashSet/HashMap is the #1 tool to convert O(n¬≤) to O(n) ‚Äî always ask "what if I remembered previous state?"</li>
      </ul>
    </div>

    <div class="summary-box">
      <h4>üìù 60-Second Summary</h4>
      <p>Array problems are won by pattern recognition, not cleverness. The three power moves: <strong>1) HashSet for "seen before"</strong>, reducing O(n¬≤) pair comparisons to O(n). <strong>2) Prefix sum</strong> for subarray aggregation ‚Äî pay O(n) upfront, answer any range query in O(1). <strong>3) Sliding window</strong> for contiguous subarray problems ‚Äî add to right, remove from left in O(1). When stuck, ask: "Can a HashSet remember what I've already computed?" or "Does a running aggregate eliminate redundant work?"</p>
    </div>

  </div>
</div>


<!-- ============================= TOPIC 3: B-TREE ============================= -->
<div id="btree" class="topic-section">
  <div class="topic-header db">
    <div>
      <h2>üî• SQL B-Tree Indexing</h2>
      <div style="margin-top:8px; color: var(--text-muted); font-size:0.9em">How databases find your data in milliseconds across billions of rows</div>
    </div>
  </div>

  <div class="topic-body">

    <div class="section-block">
      <h3>üß† 1. Intuition First</h3>
      <p>Without an index, finding a row in a 100M-row table = reading every single row. That's like finding someone in a city by knocking on every door. An <strong>index is a sorted data structure that lets the database jump directly to the right page on disk</strong>, like using an address book.</p>
      <p>The database stores data in pages (typically 8KB or 16KB each). A table with 100M rows might span 800,000 disk pages. A full table scan reads them all. A B-Tree index traversal reads only 4-5 pages. <strong>That's a 160,000√ó speedup.</strong></p>
      <p><em>Why B-Tree and not binary search tree (BST)?</em> BSTs can become unbalanced (O(n) worst case). B-Trees are always balanced. But more importantly: BSTs have one value per node ‚Äî bad for disk. B-Trees have hundreds of values per node, meaning each disk read (I/O) returns massive amounts of useful data. They're optimized for disk access patterns.</p>
    </div>

    <div class="section-block">
      <h3>‚öôÔ∏è 2. Core Mechanics</h3>

      <h4 style="color:var(--orange); margin: 0 0 12px">B-Tree vs Binary Tree vs B+Tree</h4>
      <table>
        <tr><th>Property</th><th>Binary Tree (BST)</th><th>B-Tree</th><th>B+Tree (used by PostgreSQL, MySQL)</th></tr>
        <tr><td>Branching factor</td><td>2</td><td>Hundreds</td><td>Hundreds</td></tr>
        <tr><td>Data stored at</td><td>Every node</td><td>Every node</td><td>Leaf nodes only</td></tr>
        <tr><td>Leaf nodes linked?</td><td>No</td><td>No</td><td>Yes (doubly linked)</td></tr>
        <tr><td>Height for 1M rows</td><td>~20 (balanced) or n (worst)</td><td>3-4</td><td>3-4</td></tr>
        <tr><td>Range queries</td><td>Slow</td><td>Moderate</td><td>Fast (linked leaves)</td></tr>
        <tr><td>Used in production</td><td>No</td><td>Rarely</td><td>Yes (MySQL InnoDB, PostgreSQL)</td></tr>
      </table>

      <h4 style="color:var(--orange); margin: 20px 0 12px">B+Tree Structure (What PostgreSQL/MySQL actually use)</h4>
      <div class="diagram">                        [Root Node]
                   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                   ‚îÇ  25  |  50  |  75    ‚îÇ  ‚Üê Internal nodes: keys ONLY
                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  /        |        |      \
         [10|20]    [30|40]  [55|65]  [80|90]    ‚Üê Internal nodes
         /  |  \    /  |  \   ...
    [5][10][20] [25][30][40]                      ‚Üê Leaf nodes: keys + row pointers

Leaf nodes are DOUBLY LINKED:
[5|10|20] ‚Üê‚Üí [25|30|40] ‚Üê‚Üí [55|65|...] ‚Üê‚Üí [75|80|90]
                                             ‚Üë enables fast range scans!

Each leaf node pointer ‚Üí actual row on disk (heap/clustered table)

Height formula: h = ceil(log_m(n))
  m = branching factor (keys per node) ‚âà 200-400 for typical page size
  n = number of rows
  At 10M rows, m=200: h = ceil(log_200(10,000,000)) ‚âà 3-4 levels</div>

      <h4 style="color:var(--orange); margin: 20px 0 12px">How a Query Uses the Index</h4>
      <ol class="step-list">
        <li>Parser receives <code>SELECT * FROM users WHERE id = 42</code></li>
        <li>Query planner checks: does an index exist on <code>id</code>? Is the selectivity high enough to use it?</li>
        <li>Traverse B+Tree from root ‚Üí internal nodes ‚Üí leaf node containing id=42. Each level = one disk I/O. Total: 3-4 reads.</li>
        <li>Leaf node contains a pointer (page number + slot) to the actual row on the heap</li>
        <li>One more I/O to fetch the actual row. Total: 4-5 disk I/Os regardless of table size.</li>
      </ol>

      <h4 style="color:var(--orange); margin: 20px 0 12px">Index Scan vs Full Table Scan</h4>
      <div class="diagram">Query: SELECT * FROM orders WHERE customer_id = 1001

WITHOUT INDEX:
Page 1 [row1, row2, row3 ...] ‚Üí read
Page 2 [row4, row5, row6 ...] ‚Üí read
...
Page 800,000                  ‚Üí read
Total I/Os: 800,000 üíÄ

WITH INDEX on customer_id:
Root node ‚Üí matches ‚Üí leaf node ‚Üí heap page ‚Üí DONE
Total I/Os: 4-5 ‚úÖ  (160,000√ó faster!)</div>

      <h4 style="color:var(--orange); margin: 20px 0 12px">Composite Indexes and Prefix Rule</h4>
<pre><code><span class="highlight-green">-- Composite index on (last_name, first_name, age)</span>
CREATE INDEX idx_name ON users(last_name, first_name, age);

<span class="highlight-green">-- ‚úÖ Uses index (leading column match)</span>
SELECT * FROM users WHERE last_name = 'Smith';
SELECT * FROM users WHERE last_name = 'Smith' AND first_name = 'John';
SELECT * FROM users WHERE last_name = 'Smith' AND first_name = 'John' AND age = 30;

<span class="highlight-green">-- ‚ùå Cannot use index (skips leading column)</span>
SELECT * FROM users WHERE first_name = 'John';  <span class="highlight-red">-- full scan!</span>
SELECT * FROM users WHERE age = 30;             <span class="highlight-red">-- full scan!</span></code></pre>

      <div class="callout callout-info">
        <div class="callout-title">üí° The Leftmost Prefix Rule</div>
        A composite index <code>(A, B, C)</code> can be used for queries filtering on A, or A+B, or A+B+C. It CANNOT be used if you skip A. Build your index in order of: most selective column first, then columns used in range queries last.
      </div>
    </div>

    <div class="section-block">
      <h3>üö® 3. What Breaks at Scale?</h3>

      <h4 style="color:var(--accent4); margin: 0 0 12px">At 10M Rows</h4>
      <table>
        <tr><th>Problem</th><th>What Happens</th><th>Impact</th></tr>
        <tr><td>Index on write-heavy column</td><td>Every INSERT/UPDATE/DELETE must update the B-Tree ‚Äî rebalancing, page splits</td><td>Insert throughput drops 2-10√ó</td></tr>
        <tr><td>Index on low-cardinality column</td><td>Index on <code>gender</code> (2 values) ‚Üí planner ignores it, does full scan anyway</td><td>Index exists but never used ‚Äî wastes disk</td></tr>
        <tr><td>Too many indexes</td><td>Each index stored separately on disk. 10 indexes = 10√ó write amplification</td><td>Disk usage balloons, writes slow to crawl</td></tr>
        <tr><td>No composite index</td><td>Multi-column WHERE clause can't use individual single-column indexes together (usually)</td><td>Full scan on large tables</td></tr>
        <tr><td>Index not fitting in RAM</td><td>B-Tree traversal requires disk I/O for each level</td><td>Queries slow from milliseconds to seconds</td></tr>
      </table>

      <h4 style="color:var(--accent4); margin: 16px 0 12px">Insert Performance Degradation</h4>
      <div class="diagram">Insert without index:
  Append row to end of table ‚Üí 1 write operation

Insert with 5 indexes:
  Write row to heap
  + Update index 1 (may cause B-Tree rebalance/page split)
  + Update index 2 (same)
  + Update index 3
  + Update index 4
  + Update index 5
  = 6+ write operations, potential WAL (Write-Ahead Log) amplification

Page split (worst case):
  A full leaf node needs to be split ‚Üí creates new page
  ‚Üí Parent node needs a new key ‚Üí may propagate up
  ‚Üí In extreme cases, cascades to root ‚Üí tree grows taller by 1 level</div>
    </div>

    <div class="section-block">
      <h3>üèó 4. Production Reality</h3>
      <ul>
        <li><strong>EXPLAIN ANALYZE</strong> is your best friend. Never guess ‚Äî run it and look for "Seq Scan" on large tables (red flag).</li>
        <li><strong>Covering indexes:</strong> Include all columns needed by a query in the index to avoid the extra heap lookup (<code>INDEX ONLY SCAN</code> in PostgreSQL).</li>
        <li><strong>Partial indexes:</strong> Index only a subset of rows: <code>CREATE INDEX ON orders(created_at) WHERE status = 'pending'</code> ‚Äî smaller, faster index if most queries target pending orders.</li>
        <li><strong>Index bloat:</strong> After many DELETEs/UPDATEs, B-Tree pages contain dead entries. Run <code>VACUUM</code> in PostgreSQL to reclaim space.</li>
        <li><strong>Hot spot problem:</strong> Sequential inserts (auto-increment IDs) insert always to the rightmost leaf ‚Üí hot spot contention in high-write scenarios. UUID-based keys spread writes but cause more page splits.</li>
      </ul>
      <div class="callout callout-danger">
        <div class="callout-title">üî¥ Worst Indexing Mistakes in Production</div>
        <ul>
          <li>Indexing every column "just in case" ‚Äî destroys write performance</li>
          <li>Not indexing foreign keys ‚Äî JOINs become full scans</li>
          <li>Using <code>LIKE '%keyword%'</code> ‚Äî leading wildcard defeats B-Tree (use full-text search instead)</li>
          <li>Functions on indexed columns: <code>WHERE LOWER(email) = 'x'</code> ‚Äî index not used (create a functional index)</li>
        </ul>
      </div>
    </div>

    <div class="section-block">
      <h3>üîç 5. Interview Angle</h3>
      <div class="interview-box">
        <h4>üéØ Say These Confidently</h4>
        <ul>
          <li>"MySQL InnoDB and PostgreSQL both use B+Trees ‚Äî a variant where data lives only in leaf nodes, which are doubly linked to enable efficient range scans."</li>
          <li>"A B+Tree of height 4 with branching factor 200 can index 200‚Å¥ = 1.6 billion rows with just 4 disk reads. That's why indexing is so powerful."</li>
          <li>"Adding too many indexes is a real production problem ‚Äî each write must update every index, causing write amplification proportional to the number of indexes."</li>
          <li>"The leftmost prefix rule means a composite index on (A, B) helps queries on A or A+B, but not queries on B alone."</li>
          <li>"When a query has low selectivity ‚Äî like filtering by a boolean ‚Äî the planner often ignores the index because reading half the table via index is slower than a sequential scan."</li>
        </ul>
      </div>
    </div>

    <div class="section-block">
      <h3>üìä 7. Comparison Table</h3>
      <table>
        <tr><th>Index Type</th><th>Best For</th><th>Limitation</th></tr>
        <tr><td>B+Tree (default)</td><td>Equality, range queries, ORDER BY</td><td>Not for full-text search, leading wildcard LIKE</td></tr>
        <tr><td>Hash Index</td><td>Exact equality only (faster)</td><td>No range queries, no ORDER BY</td></tr>
        <tr><td>GIN (PostgreSQL)</td><td>Arrays, JSONB, full-text search</td><td>Slower writes, larger size</td></tr>
        <tr><td>GiST (PostgreSQL)</td><td>Geospatial, ranges</td><td>Complex to configure</td></tr>
        <tr><td>Covering Index</td><td>Queries needing only indexed columns</td><td>Larger index size</td></tr>
        <tr><td>Partial Index</td><td>Queries always filtering by same condition</td><td>Only usable when WHERE matches definition</td></tr>
        <tr><td>Functional Index</td><td><code>WHERE LOWER(email) = ?</code></td><td>Must match exact expression in query</td></tr>
      </table>
    </div>

    <div class="remember-box">
      <h4>üéØ Absolutely Remember These</h4>
      <ul>
        <li>B+Tree height ‚âà 3-4 for up to billions of rows ‚Äî this is why it's fast</li>
        <li>Data stored ONLY in leaf nodes in B+Tree; internal nodes hold only keys for routing</li>
        <li>Leaf nodes are doubly linked ‚Üí range scans are fast (just walk the list)</li>
        <li>Every index you add = write amplification on INSERT/UPDATE/DELETE</li>
        <li>Low-cardinality columns (gender, boolean) make bad index candidates</li>
        <li>Leftmost prefix rule is the most commonly violated rule in composite index design</li>
        <li><code>EXPLAIN ANALYZE</code> = non-negotiable before deploying any query optimization</li>
        <li>Functions on indexed columns break index usage (create functional indexes to fix)</li>
      </ul>
    </div>

    <div class="summary-box">
      <h4>üìù 60-Second Summary</h4>
      <p>B+Trees are the backbone of SQL indexes. They stay balanced with height ‚âà 3-4 regardless of table size, so lookup is always O(log n) ‚âà 4 disk reads vs millions for full scan. Data lives only at leaf nodes (routing keys in internal nodes); leaves are linked for range scans. The cost: every index updates on every write. Index strategy = index high-cardinality columns used in WHERE/JOIN/ORDER BY, use composite indexes following leftmost prefix rule, and remove unused indexes. At scale, index maintenance becomes a bottleneck ‚Äî budget for read/write tradeoffs.</p>
    </div>

  </div>
</div>


<!-- ============================= TOPIC 4: URL SHORTENER ============================= -->
<div id="url-shortener" class="topic-section">
  <div class="topic-header sys">
    <div>
      <h2>üî• System Design: URL Shortener</h2>
      <div style="margin-top:8px; color: var(--text-muted); font-size:0.9em">bit.ly / TinyURL architecture ‚Äî a complete system design walkthrough</div>
    </div>
  </div>

  <div class="topic-body">

    <div class="section-block">
      <h3>üß† 1. Intuition First</h3>
      <p>A URL shortener maps a long URL to a short unique code (e.g., <code>https://bit.ly/3xK9p</code>) and redirects users to the original URL. It sounds simple but is a <strong>perfect system design question because it touches every fundamental concept</strong>: hashing, caching, databases, load balancing, scaling reads, and handling failures.</p>
      <p>The core challenge: <strong>this is an extremely read-heavy system</strong>. A URL might be created once but accessed millions of times. The architecture must be optimized for reads, not writes.</p>
    </div>

    <div class="section-block">
      <h3>‚öôÔ∏è 2. Full System Design</h3>

      <h4 style="color:var(--green); margin: 0 0 12px">Functional Requirements</h4>
      <ul>
        <li>Given a long URL, generate a unique short URL (code ~6-8 chars)</li>
        <li>Redirect short URL ‚Üí original URL with HTTP 301 (permanent) or 302 (temporary)</li>
        <li>Optional: custom aliases, expiry, analytics</li>
      </ul>

      <h4 style="color:var(--green); margin: 16px 0 12px">Non-Functional Requirements</h4>
      <ul>
        <li><strong>Scale:</strong> 100M URLs created/day, 10B redirects/day (100:1 read/write ratio)</li>
        <li><strong>Latency:</strong> Redirect p99 &lt; 10ms</li>
        <li><strong>Availability:</strong> 99.99% uptime (4.4 minutes downtime/year)</li>
        <li><strong>Short code uniqueness:</strong> Collision probability must be negligible</li>
      </ul>

      <h4 style="color:var(--green); margin: 16px 0 12px">Capacity Estimation</h4>
      <div class="diagram">Writes: 100M URLs/day = ~1,160/second
Reads:  10B redirects/day = ~116,000/second   ‚Üê 100:1 read:write

Storage: 100M URLs/day √ó 365 days √ó 500 bytes/URL
       ‚âà 18.25 TB/year

Short code space:
  Base62 (a-z, A-Z, 0-9): 62‚Å∂ = ~56 billion codes  ‚úÖ
  Base62 7-chars:          62‚Å∑ = ~3.5 trillion codes ‚úÖ‚úÖ</div>

      <h4 style="color:var(--green); margin: 16px 0 12px">High-Level Architecture</h4>
      <div class="diagram">                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  User ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ ‚îÇ    Load Balancer     ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                               ‚îÇ (Round Robin / Least Connections)
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ    App Servers      ‚îÇ ‚Üê‚îÄ‚îÄ Stateless, horizontally scalable
                    ‚îÇ   (API Layer)       ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚îÇ      ‚îÇ
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
              ‚ñº                                       ‚ñº
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ   Cache Layer    ‚îÇ                  ‚îÇ   Database Layer   ‚îÇ
   ‚îÇ Redis / Memcached‚îÇ                  ‚îÇ                    ‚îÇ
   ‚îÇ                  ‚îÇ                  ‚îÇ  Primary DB (RW)   ‚îÇ
   ‚îÇ short_code ‚Üí     ‚îÇ                  ‚îÇ  + Replicas (RO)   ‚îÇ
   ‚îÇ long_url         ‚îÇ                  ‚îÇ                    ‚îÇ
   ‚îÇ (LRU eviction)   ‚îÇ                  ‚îÇ  Indexed on:       ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                  ‚îÇ  short_code (PK)   ‚îÇ
                                         ‚îÇ  long_url (unique) ‚îÇ
                                         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò</div>

      <h4 style="color:var(--green); margin: 20px 0 12px">Database Schema</h4>
<pre><code><span class="highlight-green">-- Core table</span>
CREATE TABLE urls (
    short_code   VARCHAR(8) PRIMARY KEY,   <span class="highlight-green">-- indexed, PK</span>
    long_url     TEXT NOT NULL,
    user_id      BIGINT,
    created_at   TIMESTAMP DEFAULT NOW(),
    expires_at   TIMESTAMP,                <span class="highlight-green">-- NULL = never expires</span>
    click_count  BIGINT DEFAULT 0,
    UNIQUE(long_url)                       <span class="highlight-green">-- prevent duplicate short codes for same URL</span>
);

<span class="highlight-green">-- Index on long_url for "does this URL already exist?" check</span>
CREATE INDEX idx_long_url ON urls(long_url);

<span class="highlight-green">-- Partial index for expiry processing (only active URLs)</span>
CREATE INDEX idx_expiry ON urls(expires_at) WHERE expires_at IS NOT NULL;</code></pre>

      <h4 style="color:var(--green); margin: 20px 0 12px">Short Code Generation ‚Äî 3 Approaches</h4>
      <table>
        <tr><th>Approach</th><th>How</th><th>Pros</th><th>Cons</th></tr>
        <tr><td><strong>MD5/SHA256 Hash</strong></td><td>Hash(long_url) ‚Üí take first 6 chars of base62 encoding</td><td>Simple, deterministic (same URL = same code)</td><td>Hash collision risk. Need to check DB and retry if collision</td></tr>
        <tr><td><strong>Random Base62</strong></td><td>Generate random 6-8 char base62 string, check uniqueness in DB</td><td>Simple</td><td>DB lookup on every creation; rare but possible collision</td></tr>
        <tr><td><strong>Counter + Base62</strong></td><td>Auto-increment ID ‚Üí encode to base62 (ID 1 = "000001")</td><td>No collisions, no DB check needed</td><td>Predictable/guessable codes; ID counter is a single point of failure</td></tr>
      </table>

      <div class="callout callout-info">
        <div class="callout-title">üí° Best Practice: Hash + Collision Handling</div>
<pre><code><span class="highlight-blue">import</span> hashlib, base64

<span class="highlight-blue">def</span> <span class="highlight-orange">generate_short_code</span>(long_url, attempt=0):
    hash_input = long_url + str(attempt)          <span class="highlight-green"># add salt on retry</span>
    hash_bytes = hashlib.md5(hash_input.encode()).digest()
    code = base64.urlsafe_b64encode(hash_bytes)[:7].decode()
    <span class="highlight-green"># store in DB, if collision: generate_short_code(url, attempt+1)</span>
    <span class="highlight-blue">return</span> code</code></pre>
      </div>

      <h4 style="color:var(--green); margin: 20px 0 12px">Redirect Flow ‚Äî 301 vs 302</h4>
      <table>
        <tr><th></th><th>301 Permanent</th><th>302 Temporary</th></tr>
        <tr><td>Browser caches?</td><td>Yes ‚Äî next request goes direct</td><td>No ‚Äî always hits your server</td></tr>
        <tr><td>Server load</td><td>Lower (browser handles repeat visits)</td><td>Higher (every click hits server)</td></tr>
        <tr><td>Analytics possible?</td><td>No ‚Äî clicks bypass server after first</td><td>Yes ‚Äî you see every click</td></tr>
        <tr><td>Use when</td><td>Static redirects, performance critical</td><td>Need click tracking or URL can change</td></tr>
      </table>

      <h4 style="color:var(--green); margin: 20px 0 12px">Caching Strategy</h4>
      <div class="diagram">Read path:
  Request ‚Üí Check Redis (short_code ‚Üí long_url)
              ‚îú‚îÄ‚îÄ HIT:  Return cached URL (sub-millisecond) ‚úÖ
              ‚îî‚îÄ‚îÄ MISS: Query DB ‚Üí cache result ‚Üí Return URL

Cache sizing:
  80/20 rule: 20% of URLs = 80% of traffic
  Cache top 20% = massive hit rate
  At 100M URLs: cache 20M = ~10GB Redis (very feasible)

Cache eviction: LRU (Least Recently Used)
  Least-accessed URLs get evicted when cache is full

Cache TTL: match URL expiry or set 24h default
  Expired URL in cache = user gets wrong redirect ‚Äî CRITICAL BUG
  Solution: Always check expires_at before returning cached result</div>
    </div>

    <div class="section-block">
      <h3>üö® 3. What Breaks at Scale?</h3>

      <table>
        <tr><th>Failure Mode</th><th>Trigger</th><th>Fix</th></tr>
        <tr><td>DB overload on reads</td><td>Cache goes down ‚Üí all 116K req/s hit DB</td><td>Read replicas + cache with retry logic</td></tr>
        <tr><td>Hash collision</td><td>Two different URLs hash to same short code</td><td>DB unique constraint + retry with salt</td></tr>
        <tr><td>Hot URLs</td><td>Viral link ‚Üí single cache key ‚Üí thundering herd</td><td>Probabilistic early expiry; in-memory local cache per server</td></tr>
        <tr><td>Short code enumeration</td><td>Sequential counter codes are predictable (code 1,2,3...)</td><td>Use hashed/random codes; add auth for private URLs</td></tr>
        <tr><td>Write bottleneck</td><td>High URL creation rate overwhelms single DB primary</td><td>Queue writes via Kafka; async counter service</td></tr>
        <tr><td>Analytics at scale</td><td>Updating click_count on every redirect = write contention</td><td>Stream events to Kafka ‚Üí aggregate async in batch</td></tr>
      </table>
    </div>

    <div class="section-block">
      <h3>üèó 4. Production Reality</h3>
      <ul>
        <li><strong>CDN-level caching:</strong> The most extreme optimization ‚Äî cache redirects at the CDN edge (Cloudflare Workers / AWS Lambda@Edge). Redirect latency drops to &lt;5ms globally.</li>
        <li><strong>Database choice:</strong> SQL for strong consistency on writes; Redis Cluster for cache. Some systems use Cassandra for URL storage at massive scale (trading consistency for availability).</li>
        <li><strong>Rate limiting:</strong> Without rate limiting, a single user can generate millions of short codes and exhaust your namespace. Implement per-user rate limits (token bucket algorithm).</li>
        <li><strong>Security:</strong> Malicious URLs in your shortener = reputation damage. Integrate Google Safe Browsing API on creation. Blacklist known phishing domains.</li>
        <li><strong>Monitoring:</strong> Track cache hit rate (should be &gt;95%), redirect latency p50/p99, and error rate per short code to detect dead links.</li>
      </ul>
    </div>

    <div class="section-block">
      <h3>üîç 5. Interview Angle</h3>
      <div class="interview-box">
        <h4>üéØ How to Structure Your Answer (4 minutes)</h4>
        <ol class="step-list">
          <li>State requirements: "This is read-heavy, 100:1 read:write, low latency redirect is the key SLA"</li>
          <li>Estimate: "116K reads/sec, cache top 20% of URLs, ~10GB Redis"</li>
          <li>Architecture: Load balancer ‚Üí stateless app servers ‚Üí Redis cache ‚Üí primary DB + read replicas</li>
          <li>Code generation: "I'd use MD5 hash, take first 7 base62 chars, handle collisions by retrying with salt"</li>
          <li>Bottlenecks: "Cache is critical ‚Äî if Redis goes down, we need DB replicas and circuit breakers to prevent cascade"</li>
        </ol>
      </div>
      <div class="callout callout-warning">
        <div class="callout-title">‚ö†Ô∏è Common Interview Traps</div>
        <ul>
          <li>Forgetting to discuss hash collision handling ‚Äî always mention it proactively</li>
          <li>Choosing 301 without mentioning it disables analytics tracking</li>
          <li>Not mentioning the load balancer or assuming a single server</li>
          <li>Ignoring security ‚Äî malicious URL shorteners are a real threat</li>
          <li>Not discussing the 80/20 caching rule to justify cache sizing</li>
        </ul>
      </div>
    </div>

    <div class="remember-box">
      <h4>üéØ Absolutely Remember These</h4>
      <ul>
        <li>100:1 read:write ratio ‚Üí optimize EVERYTHING for reads</li>
        <li>Cache is the most impactful optimization ‚Äî target 95%+ hit rate</li>
        <li>Hash collision WILL happen at scale ‚Äî always have retry logic with salt</li>
        <li>62‚Å∑ = 3.5 trillion unique codes ‚Äî 7 chars base62 is more than enough</li>
        <li>301 = browser-cached (no analytics). 302 = server-tracked (analytics possible)</li>
        <li>B-Tree index on short_code (PK) makes redirect lookup O(log n) ‚âà 4 disk reads</li>
        <li>Never update click_count inline ‚Äî it creates write contention. Use async batch updates</li>
        <li>Expired URLs in cache = redirect to wrong URL ‚Äî always validate expiry before serving</li>
      </ul>
    </div>

    <div class="summary-box">
      <h4>üìù 60-Second Summary</h4>
      <p>URL shortener is a read-heavy system (100:1 ratio). Architecture: Load Balancer ‚Üí Stateless App Servers ‚Üí Redis Cache ‚Üí PostgreSQL (primary + read replicas). Short code generation: MD5(url) ‚Üí base62 encode ‚Üí first 7 chars; retry with salt on collision. Cache top 20% of URLs in Redis (LRU eviction) to serve 80% of traffic. Use 302 for analytics, 301 for pure performance. Index the short_code column (PK) and long_url column. Main bottlenecks: cache stampede on viral URLs, write contention on click_count (fix with Kafka async), and DB overload on cache miss (fix with read replicas + circuit breakers).</p>
    </div>

  </div>
</div>


<!-- ============================= CROSS-TOPIC ============================= -->
<div id="cross-topic" class="cross-topic">
  <h2>üß† Cross-Topic Connections</h2>

  <div class="two-col">
    <div class="section-block">
      <h3 style="border:none; padding:0; margin-bottom:12px">üîó How These Topics Relate</h3>
      <ul>
        <li><strong>Big-O explains B-Tree value:</strong> A full table scan is O(n). A B-Tree index lookup is O(log n). This is the exact Big-O complexity difference that makes indexes worth having. The reason indexes exist is Big-O.</li>
        <li><strong>URL Shortener uses B-Tree indexes:</strong> The primary key <code>short_code</code> is a B-Tree index. Without it, every redirect = full table scan on a billion-row table = unusable system.</li>
        <li><strong>HashMap pattern mirrors cache design:</strong> The HashSet/HashMap pattern in array algorithms is conceptually identical to Redis caching in the URL shortener ‚Äî trade O(n) space for O(1) lookup.</li>
        <li><strong>Prefix sum = denormalization:</strong> Pre-computing prefix sums to avoid O(n) per query is the same principle as caching computed results (like click counts) to avoid expensive DB queries on every request.</li>
        <li><strong>Array patterns inform DB query optimization:</strong> The same "avoid redundant work" principle that turns O(n¬≤) to O(n) array problems applies to query optimization ‚Äî avoid N+1 queries, use JOIN instead of loops.</li>
      </ul>
    </div>

    <div class="section-block">
      <h3 style="border:none; padding:0; margin-bottom:12px">üí• Combined Failure Scenarios</h3>
      <ul>
        <li><strong>No index + high read traffic:</strong> URL shortener without index on short_code + 100K req/sec = full table scan on every redirect. System dies within seconds of production traffic.</li>
        <li><strong>O(n¬≤) query pattern:</strong> If your URL redirect handler accidentally runs N queries for N redirects (N+1 problem), you've created an O(n¬≤) database workload ‚Äî same failure as nested loops but at infrastructure scale.</li>
        <li><strong>Cache miss storm (thundering herd):</strong> Redis fails, all requests fall back to DB. Without read replicas, this is like reverting from O(1) cache to O(n) full scan ‚Äî system collapses under load. The Big-O jump from O(1) to O(n) is what kills it.</li>
        <li><strong>Too many indexes + high write rate:</strong> Over-indexed table on a write-heavy path = write amplification. Same as running O(n¬≤) where you expected O(n) ‚Äî costs compound multiplicatively.</li>
      </ul>
    </div>
  </div>

  <div class="section-block" style="margin-top:20px">
    <h3 style="border:none; padding:0; margin-bottom:12px">üó∫ Mental Map ‚Äî Where Everything Connects</h3>
    <div class="diagram">                          BIG-O COMPLEXITY
                         /          |          \
            Explains why        Drives         Informs
            indexes matter    algorithm      when to cache
                  |           choice              |
                  ‚ñº               ‚ñº               ‚ñº
           B-TREE INDEX ‚îÄ‚îÄ‚îÄ‚îÄ ARRAYS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ URL SHORTENER
                  |                               |
          O(log n) lookup           Redis cache = O(1) HashMap
          vs O(n) full scan         Index = O(log n) DB lookup
                  |                 Avoid O(n¬≤) with queue/batch
                  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Same tradeoffs ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                (Space vs Time, Read vs Write)</div>
  </div>
</div>


<!-- ============================= RAPID REVISION ============================= -->
<div id="rapid-revision" class="rapid-revision">
  <h2>üèÜ Interview Rapid Revision Sheet</h2>
  <p style="color: var(--text-muted); margin-bottom: 24px">Re-read this the night before any interview. 2-minute scan, full recall.</p>

  <div class="two-col">
    <div>
      <h3 style="color: var(--accent); margin-bottom: 12px">üìä Big-O Cheat Sheet</h3>
      <table>
        <tr><th>Pattern</th><th>Time</th><th>Space</th></tr>
        <tr><td>Single loop</td><td>O(n)</td><td>O(1)</td></tr>
        <tr><td>Nested loop</td><td>O(n¬≤)</td><td>O(1)</td></tr>
        <tr><td>Sort + loop</td><td>O(n log n)</td><td>O(1)*</td></tr>
        <tr><td>HashMap build+scan</td><td>O(n)</td><td>O(n)</td></tr>
        <tr><td>Binary search</td><td>O(log n)</td><td>O(1)</td></tr>
        <tr><td>Prefix sum build</td><td>O(n)</td><td>O(n)</td></tr>
        <tr><td>Prefix sum query</td><td>O(1)</td><td>‚Äî</td></tr>
      </table>

      <h3 style="color: var(--orange); margin: 20px 0 12px">üóÑ B-Tree Key Facts</h3>
      <ul style="font-size:0.9em">
        <li>Height ‚âà 3-4 for BILLIONS of rows</li>
        <li>Full scan O(n), Index O(log n)</li>
        <li>B+Tree: data in leaves only, leaves linked</li>
        <li>Composite index: leftmost prefix rule</li>
        <li>Every index = write amplification</li>
        <li>Low cardinality = bad index (gender, bool)</li>
        <li>EXPLAIN ANALYZE before any optimization</li>
        <li>Page split = B-Tree rebalance on insert</li>
      </ul>
    </div>

    <div>
      <h3 style="color: var(--green); margin-bottom: 12px">üèó URL Shortener Key Numbers</h3>
      <table>
        <tr><th>Metric</th><th>Value</th></tr>
        <tr><td>Read:Write ratio</td><td>100:1</td></tr>
        <tr><td>Reads/sec</td><td>~116,000</td></tr>
        <tr><td>62‚Å∑ codes</td><td>3.5 trillion</td></tr>
        <tr><td>Cache hit target</td><td>&gt;95%</td></tr>
        <tr><td>Redirect latency</td><td>&lt;10ms p99</td></tr>
        <tr><td>Storage/year</td><td>~18 TB</td></tr>
      </table>

      <h3 style="color: var(--purple); margin: 20px 0 12px">üîë Key Tradeoffs</h3>
      <ul style="font-size:0.9em">
        <li><strong>301 vs 302:</strong> Performance vs Analytics</li>
        <li><strong>Index:</strong> Fast reads vs Slow writes</li>
        <li><strong>Cache:</strong> Speed vs Stale data risk</li>
        <li><strong>Hash vs Counter:</strong> Unpredictable vs Guessable codes</li>
        <li><strong>HashMap:</strong> O(1) time vs O(n) space</li>
        <li><strong>Sort first:</strong> O(n log n) upfront ‚Üí O(1) queries</li>
        <li><strong>Prefix sum:</strong> O(n) build ‚Üí O(1) range queries</li>
      </ul>
    </div>
  </div>

  <hr>

  <h3 style="color: var(--accent4); margin: 20px 0 12px">‚ö° Critical Formulas</h3>
  <div class="complexity-grid">
    <div class="complexity-card">
      <div class="complexity-value" style="color:var(--green)">h = ceil(log_m(n))</div>
      <div class="complexity-label">B-Tree height<br>(m = branching factor)</div>
    </div>
    <div class="complexity-card">
      <div class="complexity-value" style="color:var(--accent)">sum(i,j) = P[j+1] - P[i]</div>
      <div class="complexity-label">Prefix sum range query</div>
    </div>
    <div class="complexity-card">
      <div class="complexity-value" style="color:var(--orange)">62‚Å∑ ‚âà 3.5T</div>
      <div class="complexity-label">Base62, 7 chars<br>= 3.5 trillion codes</div>
    </div>
    <div class="complexity-card">
      <div class="complexity-value" style="color:var(--yellow)">O(n¬≤) @ 10M = üíÄ</div>
      <div class="complexity-label">Nested loop at 10M rows<br>= 1+ days compute</div>
    </div>
  </div>

  <div class="callout callout-success" style="margin-top: 20px">
    <div class="callout-title">‚úÖ Interview Winning Moves</div>
    <ul>
      <li>Always state brute force THEN optimize. Show the thought process, not just the answer.</li>
      <li>Always mention both time AND space complexity. Interviewers reward completeness.</li>
      <li>In system design: estimate first (QPS, storage), then architect. Numbers justify choices.</li>
      <li>Proactively mention failure modes (hash collision, cache miss, hot key) ‚Äî it shows production thinking.</li>
      <li>Connect your choices to Big-O: "I use a cache here because it converts O(n) DB reads to O(1) lookups."</li>
    </ul>
  </div>
</div>



<!-- ============================= DEEP DIVES ============================= -->
<div id="deep-dives">

<!-- DEEP DIVE 1: AMORTIZED + ADVANCED BIG-O -->
<div class="topic-section" style="margin-bottom:40px">
  <div class="topic-header dsa">
    <div>
      <h2>üî¨ Deep Dive: Amortized Analysis &amp; Advanced Big-O Concepts</h2>
      <div style="margin-top:8px; color: var(--text-muted); font-size:0.9em">What interviews rarely ask but senior engineers always know</div>
    </div>
  </div>
  <div class="topic-body">

    <div class="section-block">
      <h3>‚öôÔ∏è Amortized Complexity ‚Äî The Real Cost of Dynamic Arrays</h3>
      <p>A Python <code>list.append()</code> is advertised as O(1). But sometimes it's O(n). How can both be true?</p>
      <div class="diagram">Dynamic Array (Python list / Java ArrayList) growth pattern:

Capacity: 1  ‚Üí full ‚Üí COPY to new array of size 2   (1 copy)
Capacity: 2  ‚Üí full ‚Üí COPY to new array of size 4   (2 copies)
Capacity: 4  ‚Üí full ‚Üí COPY to new array of size 8   (4 copies)
Capacity: 8  ‚Üí full ‚Üí COPY to new array of size 16  (8 copies)

After n appends, total copies = 1 + 2 + 4 + ... + n/2 = n - 1 ‚âà O(n)
Cost per append (amortized) = O(n) / n = O(1) ‚úÖ

Analogy: You move house every time you run out of rooms.
Most months = O(1) (just move stuff in). Moving day = O(n).
Average across all months = O(1) amortized.</div>

      <div class="qa-block">
        <div class="qa-q">Q: Why does Python list double in size instead of growing by 1?</div>
        <div class="qa-a">Growing by 1 = copying every time = O(n) per append = O(n¬≤) total. Doubling ensures total copies = O(n) across all appends, making each append O(1) amortized. The geometric growth is mathematically provable to be optimal.</div>
      </div>

      <h4 style="color:var(--orange); margin: 20px 0 12px">Omega, Theta ‚Äî The Full Picture</h4>
      <table>
        <tr><th>Notation</th><th>Meaning</th><th>Example</th><th>Used For</th></tr>
        <tr><td><strong>O(f(n))</strong></td><td>Upper bound (worst case)</td><td>Quicksort: O(n¬≤)</td><td>Interviews, capacity planning</td></tr>
        <tr><td><strong>Œ©(f(n))</strong> (Omega)</td><td>Lower bound (best case)</td><td>Quicksort: Œ©(n log n)</td><td>Proving no algorithm can do better</td></tr>
        <tr><td><strong>Œò(f(n))</strong> (Theta)</td><td>Tight bound (exact)</td><td>Merge sort: Œò(n log n)</td><td>Precise algorithmic analysis</td></tr>
        <tr><td><strong>o(f(n))</strong> (little-o)</td><td>Strict upper (grows slower)</td><td>n = o(n¬≤)</td><td>Theory papers</td></tr>
      </table>
      <div class="mental-model">When an interviewer says "what's the complexity?" they mean Big-O (worst case). When they say "can we do better?" they're asking about Omega (lower bound). Merge sort is Œò(n log n) because it's ALWAYS n log n ‚Äî best and worst are identical.</div>

      <h4 style="color:var(--orange); margin: 20px 0 12px">Recurrence Relations ‚Äî Solving Recursive Algorithms</h4>
<pre><code><span class="highlight-green"># Merge Sort recurrence: T(n) = 2T(n/2) + O(n)</span>
<span class="highlight-green"># Binary Search:         T(n) = T(n/2) + O(1)</span>
<span class="highlight-green"># Use Master Theorem: T(n) = aT(n/b) + O(n^d)</span>

<span class="highlight-green"># Case 1: log_b(a) > d  ‚Üí  O(n^log_b(a))</span>
<span class="highlight-green"># Case 2: log_b(a) = d  ‚Üí  O(n^d * log n)   ‚Üê Merge Sort: a=2,b=2,d=1 ‚Üí log‚ÇÇ2=1=d ‚Üí O(n log n)</span>
<span class="highlight-green"># Case 3: log_b(a) < d  ‚Üí  O(n^d)</span></code></pre>

      <h4 style="color:var(--orange); margin: 20px 0 12px">Space Complexity: Heap vs Stack</h4>
      <table>
        <tr><th>Memory Type</th><th>What Lives There</th><th>Failure Mode</th><th>Size</th></tr>
        <tr><td><strong>Stack</strong></td><td>Function call frames, local vars, recursion depth</td><td>Stack overflow (deep recursion)</td><td>Typically 1-8MB</td></tr>
        <tr><td><strong>Heap</strong></td><td>Objects, arrays, HashMaps, dynamically allocated data</td><td>Out of Memory (OOM)</td><td>GBs (limited by RAM)</td></tr>
      </table>
      <div class="callout callout-warning">
        <div class="callout-title">‚ö†Ô∏è Recursion Depth Trap</div>
        A recursive DFS on a sorted linked list/array has O(n) call stack depth. At n = 100,000, each stack frame ‚âà 100 bytes ‚Üí 10MB stack ‚Üí Stack Overflow. Iterative solutions with explicit stack on heap avoid this.
      </div>

      <h4 style="color:var(--orange); margin: 20px 0 12px">Best, Average, Worst Case ‚Äî By Algorithm</h4>
      <table>
        <tr><th>Algorithm</th><th>Best</th><th>Average</th><th>Worst</th><th>Space</th><th>Stable?</th></tr>
        <tr><td>Bubble Sort</td><td>O(n)*</td><td>O(n¬≤)</td><td>O(n¬≤)</td><td>O(1)</td><td>Yes</td></tr>
        <tr><td>Selection Sort</td><td>O(n¬≤)</td><td>O(n¬≤)</td><td>O(n¬≤)</td><td>O(1)</td><td>No</td></tr>
        <tr><td>Insertion Sort</td><td>O(n)*</td><td>O(n¬≤)</td><td>O(n¬≤)</td><td>O(1)</td><td>Yes</td></tr>
        <tr><td>Merge Sort</td><td>O(n log n)</td><td>O(n log n)</td><td>O(n log n)</td><td>O(n)</td><td>Yes</td></tr>
        <tr><td>Quick Sort</td><td>O(n log n)</td><td>O(n log n)</td><td>O(n¬≤)*</td><td>O(log n)</td><td>No</td></tr>
        <tr><td>Heap Sort</td><td>O(n log n)</td><td>O(n log n)</td><td>O(n log n)</td><td>O(1)</td><td>No</td></tr>
        <tr><td>Tim Sort (Python)</td><td>O(n)*</td><td>O(n log n)</td><td>O(n log n)</td><td>O(n)</td><td>Yes</td></tr>
        <tr><td>Binary Search</td><td>O(1)</td><td>O(log n)</td><td>O(log n)</td><td>O(1)</td><td>‚Äî</td></tr>
      </table>
      <p style="font-size:0.85em; color: var(--text-muted); margin-top: 8px">* Best case with early termination / already-sorted input / perfect pivot selection</p>
    </div>

  </div>
</div>

<!-- DEEP DIVE 2: ADVANCED ARRAY PATTERNS -->
<div class="topic-section" style="margin-bottom:40px">
  <div class="topic-header dsa">
    <div>
      <h2>üî¨ Deep Dive: Advanced Array Patterns</h2>
      <div style="margin-top:8px; color: var(--text-muted); font-size:0.9em">Kadane's, Monotonic Stack, Boyer-Moore, Dutch National Flag</div>
    </div>
  </div>
  <div class="topic-body">

    <div class="section-block">
      <h3>‚öôÔ∏è Pattern 5: Kadane's Algorithm ‚Äî Maximum Subarray</h3>
      <p>Find the contiguous subarray with the largest sum. Classic DP-on-array problem that trips everyone up the first time.</p>
      <div class="mental-model">At every index, ask: "Is it better to extend the current subarray, or start fresh?" If the running sum becomes negative, dump it ‚Äî a negative prefix only hurts any future subarray.</div>
<pre><code><span class="highlight-blue">def</span> <span class="highlight-orange">max_subarray</span>(nums):
    <span class="highlight-green"># Kadane's Algorithm: O(n) time, O(1) space</span>
    max_sum = nums[0]
    current = nums[0]

    <span class="highlight-blue">for</span> i <span class="highlight-blue">in</span> range(1, len(nums)):
        current = max(nums[i], current + nums[i])  <span class="highlight-green"># extend or restart</span>
        max_sum = max(max_sum, current)

    <span class="highlight-blue">return</span> max_sum

<span class="highlight-green"># Example: [-2, 1, -3, 4, -1, 2, 1, -5, 4]</span>
<span class="highlight-green"># current:  -2  1  -2  4   3  5  6   1  5</span>
<span class="highlight-green"># max_sum:  -2  1   1  4   4  5  6   6  6  ‚Üí Answer: 6 (subarray [4,-1,2,1])</span></code></pre>

      <h3 style="margin-top:24px">‚öôÔ∏è Pattern 6: Monotonic Stack ‚Äî Next Greater Element</h3>
      <p>A stack that maintains a monotonic (always increasing or always decreasing) order. Used to find the next/previous greater/smaller element in O(n).</p>
<pre><code><span class="highlight-blue">def</span> <span class="highlight-orange">next_greater</span>(nums):
    <span class="highlight-green"># For each element, find the next element that is greater</span>
    <span class="highlight-green"># O(n) time ‚Äî each element pushed/popped at most once</span>
    result = [-1] * len(nums)
    stack = []   <span class="highlight-green"># stores indices, monotonically decreasing values</span>

    <span class="highlight-blue">for</span> i <span class="highlight-blue">in</span> range(len(nums)):
        <span class="highlight-blue">while</span> stack <span class="highlight-blue">and</span> nums[i] > nums[stack[-1]]:
            idx = stack.pop()
            result[idx] = nums[i]   <span class="highlight-green"># nums[i] is the next greater for idx</span>
        stack.append(i)

    <span class="highlight-blue">return</span> result

<span class="highlight-green"># Input:  [2, 1, 2, 4, 3]</span>
<span class="highlight-green"># Output: [4, 2, 4,-1,-1]</span>
<span class="highlight-green"># Time: O(n) ‚Äî "popped at most once" is the key insight</span></code></pre>

      <h3 style="margin-top:24px">‚öôÔ∏è Pattern 7: Boyer-Moore Voting ‚Äî Majority Element</h3>
      <p>Find element appearing &gt;n/2 times in O(n) time, O(1) space. No HashMap needed.</p>
<pre><code><span class="highlight-blue">def</span> <span class="highlight-orange">majority_element</span>(nums):
    <span class="highlight-green"># O(n) time, O(1) space ‚Äî genius algorithm</span>
    candidate, count = None, 0
    <span class="highlight-blue">for</span> num <span class="highlight-blue">in</span> nums:
        <span class="highlight-blue">if</span> count == 0:
            candidate = num
        count += 1 <span class="highlight-blue">if</span> num == candidate <span class="highlight-blue">else</span> -1

    <span class="highlight-blue">return</span> candidate  <span class="highlight-green"># guaranteed correct if majority exists</span>

<span class="highlight-green"># Mental model: majority element "survives" a cancel-out battle against all others</span>
<span class="highlight-green"># Every non-majority pair cancels one majority vote. Majority always wins.</span></code></pre>

      <h3 style="margin-top:24px">‚öôÔ∏è Pattern 8: Dutch National Flag ‚Äî 3-Way Partition</h3>
<pre><code><span class="highlight-blue">def</span> <span class="highlight-orange">sort_colors</span>(nums):
    <span class="highlight-green"># Sort [0,1,2] array in one pass ‚Äî O(n) time, O(1) space</span>
    low, mid, high = 0, 0, len(nums) - 1
    <span class="highlight-blue">while</span> mid <= high:
        <span class="highlight-blue">if</span> nums[mid] == 0:
            nums[low], nums[mid] = nums[mid], nums[low]
            low += 1; mid += 1
        <span class="highlight-blue">elif</span> nums[mid] == 1:
            mid += 1
        <span class="highlight-blue">else</span>:
            nums[mid], nums[high] = nums[high], nums[mid]
            high -= 1   <span class="highlight-green"># don't increment mid ‚Äî new nums[mid] is unexamined</span></code></pre>

      <h3 style="margin-top:24px">‚öôÔ∏è 2D Array Patterns ‚Äî Matrix Traversal</h3>
<pre><code><span class="highlight-green"># Spiral traversal ‚Äî O(m√ón)</span>
<span class="highlight-blue">def</span> <span class="highlight-orange">spiral_order</span>(matrix):
    result = []
    top, bottom, left, right = 0, len(matrix)-1, 0, len(matrix[0])-1
    <span class="highlight-blue">while</span> top <= bottom <span class="highlight-blue">and</span> left <= right:
        <span class="highlight-blue">for</span> c <span class="highlight-blue">in</span> range(left, right+1):   result.append(matrix[top][c])
        top += 1
        <span class="highlight-blue">for</span> r <span class="highlight-blue">in</span> range(top, bottom+1):    result.append(matrix[r][right])
        right -= 1
        <span class="highlight-blue">if</span> top <= bottom:
            <span class="highlight-blue">for</span> c <span class="highlight-blue">in</span> range(right, left-1, -1): result.append(matrix[bottom][c])
            bottom -= 1
        <span class="highlight-blue">if</span> left <= right:
            <span class="highlight-blue">for</span> r <span class="highlight-blue">in</span> range(bottom, top-1, -1): result.append(matrix[r][left])
            left += 1
    <span class="highlight-blue">return</span> result</code></pre>

      <h3 style="margin-top:24px">‚öôÔ∏è Interval Problems Cheat Sheet</h3>
      <table>
        <tr><th>Problem Type</th><th>Approach</th><th>Complexity</th></tr>
        <tr><td>Merge overlapping intervals</td><td>Sort by start, merge if overlap</td><td>O(n log n)</td></tr>
        <tr><td>Meeting rooms (can attend all?)</td><td>Sort by start, check end[i-1] &gt; start[i]</td><td>O(n log n)</td></tr>
        <tr><td>Min meeting rooms needed</td><td>Min-heap tracking end times</td><td>O(n log n)</td></tr>
        <tr><td>Insert interval into sorted list</td><td>Binary search + merge</td><td>O(n)</td></tr>
      </table>
    </div>

  </div>
</div>

<!-- DEEP DIVE 3: ADVANCED SQL INDEXING -->
<div class="topic-section" style="margin-bottom:40px">
  <div class="topic-header db">
    <div>
      <h2>üî¨ Deep Dive: SQL Internals &amp; Query Optimizer</h2>
      <div style="margin-top:8px; color: var(--text-muted); font-size:0.9em">EXPLAIN plans ¬∑ Query planner decisions ¬∑ Index-only scans ¬∑ WAL ¬∑ MVCC</div>
    </div>
  </div>
  <div class="topic-body">

    <div class="section-block">
      <h3>‚öôÔ∏è Reading EXPLAIN ANALYZE Output</h3>
      <p>Every query optimization starts here. Know how to read this output cold.</p>
<pre><code><span class="highlight-green">-- Run this before ever optimizing a query</span>
EXPLAIN (ANALYZE, BUFFERS, FORMAT TEXT) 
SELECT * FROM orders WHERE customer_id = 1001;

<span class="highlight-green">-- Sample output annotation:</span>
Index Scan using idx_customer on orders  <span class="highlight-green">‚Üê ‚úÖ Index is being used</span>
  (cost=0.43..8.45 rows=1 width=72)      <span class="highlight-green">‚Üê estimated cost (startup..total)</span>
  (actual time=0.052..0.055 rows=1 loops=1)  <span class="highlight-green">‚Üê actual timing</span>
  Index Cond: (customer_id = 1001)
  Buffers: shared hit=4                  <span class="highlight-green">‚Üê 4 pages read from buffer cache (fast)</span>
Planning Time: 0.12 ms
Execution Time: 0.08 ms                 <span class="highlight-green">‚Üê total including planning</span>

<span class="highlight-orange">-- Red flags to look for:</span>
Seq Scan on orders                       <span class="highlight-red">‚Üê üö® Full table scan on large table</span>
  (cost=0.00..284591.00 rows=1 width=72) <span class="highlight-red">‚Üê high cost estimate</span>
  Filter: (customer_id = 1001)
  Rows Removed by Filter: 9999999        <span class="highlight-red">‚Üê scanning 10M rows to find 1</span>
  Buffers: shared read=88889             <span class="highlight-red">‚Üê 88K disk reads = slow</span></code></pre>

      <h4 style="color:var(--orange); margin:16px 0 8px">Key EXPLAIN Terms</h4>
      <table>
        <tr><th>Term</th><th>Meaning</th><th>Watch For</th></tr>
        <tr><td><code>Seq Scan</code></td><td>Full table scan ‚Äî reads every row</td><td>On tables &gt;10K rows = red flag</td></tr>
        <tr><td><code>Index Scan</code></td><td>Uses index to find rows, then fetches heap</td><td>Normal ‚Äî good</td></tr>
        <tr><td><code>Index Only Scan</code></td><td>All data in index ‚Äî no heap fetch needed</td><td>Best case ‚úÖ</td></tr>
        <tr><td><code>Bitmap Heap Scan</code></td><td>Index finds page set, then batch-fetches heap</td><td>Used for range queries returning many rows</td></tr>
        <tr><td><code>Hash Join</code></td><td>Build hash table of smaller table, probe with larger</td><td>Good for large unsorted joins</td></tr>
        <tr><td><code>Nested Loop Join</code></td><td>For each row in outer, scan inner</td><td>O(n√óm) ‚Äî bad on large tables without index</td></tr>
        <tr><td><code>rows removed by filter</code></td><td>Rows scanned but rejected</td><td>High number = index should be added</td></tr>
        <tr><td><code>shared hit</code></td><td>Pages found in buffer cache (RAM)</td><td>High = good (cache is working)</td></tr>
        <tr><td><code>shared read</code></td><td>Pages read from disk</td><td>High = slow (disk I/O)</td></tr>
      </table>

      <h3 style="margin-top:24px">‚öôÔ∏è How the Query Planner Decides to Use an Index</h3>
      <div class="diagram">Planner decision tree:

1. Does an index exist on the filter column?
   ‚îî‚îÄ‚îÄ NO ‚Üí Seq Scan (no choice)
   ‚îî‚îÄ‚îÄ YES ‚Üí Check selectivity

2. What fraction of rows match the filter?
   ‚îú‚îÄ‚îÄ &lt; 5-10% selectivity (few rows match)
   ‚îÇ     ‚îî‚îÄ‚îÄ Index Scan preferred ‚úÖ
   ‚îî‚îÄ‚îÄ &gt; 10-15% selectivity (many rows match)
         ‚îî‚îÄ‚îÄ Seq Scan may be FASTER ‚ö†Ô∏è
             (random I/O via index > sequential scan cost)

3. Are all required columns in the index?
   ‚îî‚îÄ‚îÄ YES ‚Üí Index Only Scan (no heap access!) ‚úÖ‚úÖ

4. Are table statistics up to date?
   ‚îî‚îÄ‚îÄ Run ANALYZE to update pg_stats
       Stale stats = wrong planner decisions = bad plans</div>

      <div class="callout callout-info">
        <div class="callout-title">üí° Why Seq Scan Can Beat Index Scan</div>
        Disk reads via an index are <em>random I/O</em> ‚Äî the database jumps to different disk locations for each row pointer. Sequential scan = <em>sequential I/O</em> ‚Äî reads pages in order, which HDDs and even SSDs handle much more efficiently. PostgreSQL switches to Seq Scan when it estimates &gt;~10-15% of rows will be returned.
      </div>

      <h3 style="margin-top:24px">‚öôÔ∏è WAL ‚Äî Write-Ahead Log (Crash Recovery)</h3>
      <div class="diagram">Every write in PostgreSQL/MySQL goes through WAL first:

App writes row
    ‚Üì
WAL buffer (in memory)  ‚Üê write change here first
    ‚Üì  (fsync on commit)
WAL on disk             ‚Üê DURABLE: if crash here, can replay
    ‚Üì  (async/background)
Actual data page         ‚Üê tables, indexes updated later

WHY: Appending to WAL = sequential I/O (fast!)
     Updating B-Tree pages = random I/O (slow!)
     WAL makes writes fast; data pages updated asynchronously.

On crash: replay WAL from last checkpoint ‚Üí database consistent ‚úÖ</div>

      <h3 style="margin-top:24px">‚öôÔ∏è MVCC ‚Äî Multi-Version Concurrency Control</h3>
      <p>How PostgreSQL allows multiple transactions to read/write simultaneously without locking each other.</p>
      <div class="diagram">Timeline: Transaction 1 (T1) and Transaction 2 (T2) run simultaneously

T1: BEGIN ‚Üí reads row R (sees version v1)
T2: BEGIN ‚Üí updates row R (creates version v2)
T2: COMMIT

T1 still sees v1 ‚Üê T1's snapshot was taken at T1.BEGIN
T1: COMMIT ‚Üí T1 reads consistent data despite T2's write

HOW: Each row has xmin (created by txn X) and xmax (deleted by txn Y)
Each transaction has a snapshot: "I can see rows where xmin ‚â§ my_txn_id and xmax is null or &gt; my_txn_id"

COST: Old row versions accumulate ‚Üí VACUUM cleans dead tuples
      VACUUM also reclaims B-Tree dead index entries (index bloat)</div>

      <h3 style="margin-top:24px">‚öôÔ∏è Index Selectivity ‚Äî The Math</h3>
<pre><code><span class="highlight-green">-- Measure index selectivity before creating</span>
SELECT 
    attname AS column,
    n_distinct,                          <span class="highlight-green">-- negative = fraction of total rows</span>
    correlation,                         <span class="highlight-green">-- 1.0 = perfectly sorted, -1 = reversed</span>
    most_common_vals,
    most_common_freqs
FROM pg_stats 
WHERE tablename = 'orders' AND attname = 'customer_id';

<span class="highlight-green">-- Selectivity formula:</span>
<span class="highlight-green">-- selectivity = 1 / n_distinct  (for equality predicates)</span>
<span class="highlight-green">-- If n_distinct = 1000, selectivity = 0.1% ‚Üí great index candidate</span>
<span class="highlight-green">-- If n_distinct = 2 (boolean), selectivity = 50% ‚Üí terrible index candidate</span>

<span class="highlight-green">-- Check which indexes are actually being used:</span>
SELECT indexname, idx_scan, idx_tup_read, idx_tup_fetch
FROM pg_stat_user_indexes
WHERE relname = 'orders'
ORDER BY idx_scan DESC;
<span class="highlight-green">-- Indexes with idx_scan = 0 are DEAD WEIGHT ‚Üí DROP THEM</span></code></pre>

      <h3 style="margin-top:24px">‚öôÔ∏è Advanced Index Patterns</h3>
<pre><code><span class="highlight-green">-- 1. Functional / Expression Index</span>
CREATE INDEX idx_lower_email ON users(LOWER(email));
<span class="highlight-green">-- Now this query uses the index:</span>
SELECT * FROM users WHERE LOWER(email) = 'test@example.com';

<span class="highlight-green">-- 2. Partial Index (index only relevant rows)</span>
CREATE INDEX idx_pending ON orders(created_at) WHERE status = 'pending';
<span class="highlight-green">-- Tiny index, lightning fast for "pending orders" queries</span>

<span class="highlight-green">-- 3. Covering Index (include extra columns)</span>
CREATE INDEX idx_cover ON orders(customer_id) INCLUDE (total_amount, status);
<span class="highlight-green">-- This query becomes Index Only Scan (no heap access):</span>
SELECT total_amount, status FROM orders WHERE customer_id = 1001;

<span class="highlight-green">-- 4. Multi-column with range last</span>
CREATE INDEX idx_opt ON orders(customer_id, status, created_at);
<span class="highlight-green">-- Rule: equality columns first, range columns last</span>
SELECT * FROM orders 
WHERE customer_id = 1001 AND status = 'shipped' AND created_at &gt; '2024-01-01';
<span class="highlight-green">-- customer_id (equality) + status (equality) + created_at (range) = optimal order</span></code></pre>
    </div>

  </div>
</div>

<!-- DEEP DIVE 4: ADVANCED SYSTEM DESIGN -->
<div class="topic-section" style="margin-bottom:40px">
  <div class="topic-header sys">
    <div>
      <h2>üî¨ Deep Dive: URL Shortener ‚Äî Production-Grade Additions</h2>
      <div style="margin-top:8px; color: var(--text-muted); font-size:0.9em">Rate limiting ¬∑ Consistent hashing ¬∑ Analytics pipeline ¬∑ CDN ¬∑ Security</div>
    </div>
  </div>
  <div class="topic-body">

    <div class="section-block">
      <h3>‚öôÔ∏è Rate Limiting ‚Äî Token Bucket Algorithm</h3>
      <div class="diagram">Token Bucket (per user, per API key):

Bucket capacity: 100 tokens
Refill rate: 10 tokens/second

Request arrives:
  ‚îú‚îÄ‚îÄ Tokens available? Consume 1 token, serve request ‚úÖ
  ‚îî‚îÄ‚îÄ Bucket empty? Return HTTP 429 Too Many Requests ‚ùå

Stored in Redis:
  KEY: rate_limit:{user_id}
  VALUE: {tokens: 85, last_refill: 1708262400}

On each request:
  1. GET current state from Redis
  2. Calculate elapsed time since last_refill
  3. Add elapsed √ó rate tokens (cap at max)
  4. If tokens &gt;= 1: decrement, serve
  5. Else: reject with Retry-After header
  6. SET new state (atomic with Redis MULTI/EXEC)</div>

<pre><code><span class="highlight-green"># Token bucket in Redis (Lua script for atomicity)</span>
local key = KEYS[1]
local capacity = tonumber(ARGV[1])
local rate = tonumber(ARGV[2])
local now = tonumber(ARGV[3])

local data = redis.call("HMGET", key, "tokens", "last_refill")
local tokens = tonumber(data[1]) or capacity
local last = tonumber(data[2]) or now

<span class="highlight-green">-- refill tokens based on elapsed time</span>
tokens = math.min(capacity, tokens + (now - last) * rate)

<span class="highlight-blue">if</span> tokens >= 1 then
    tokens = tokens - 1
    redis.call("HMSET", key, "tokens", tokens, "last_refill", now)
    redis.call("EXPIRE", key, 3600)
    <span class="highlight-blue">return</span> 1  <span class="highlight-green">-- allowed</span>
<span class="highlight-blue">else</span>
    <span class="highlight-blue">return</span> 0  <span class="highlight-green">-- rate limited</span>
end</code></pre>

      <h3 style="margin-top:24px">‚öôÔ∏è Analytics Pipeline ‚Äî Counting Clicks at Scale</h3>
      <div class="diagram">‚ùå Naive approach: UPDATE urls SET click_count = click_count + 1 WHERE short_code = 'xyz'
   Problem: Viral URL = 1000 req/sec on one row = row-level lock contention

‚úÖ Production approach: Event-driven async pipeline

Request arrives
    ‚Üì
App server: serve redirect (fast, no write)
    ‚Üì (fire-and-forget)
Kafka topic: "url-clicks"
Event: {short_code, timestamp, user_agent, ip, referrer}
    ‚Üì
Flink / Spark Streaming consumer
    ‚Üì
Aggregate in micro-batches (every 60 seconds)
    ‚Üì
Bulk UPDATE or UPSERT to analytics DB
    ‚Üì
Time-series DB (InfluxDB / TimescaleDB) for dashboards

Benefits:
- Zero write contention on redirect path
- Full click data retained (not just count)
- Can re-aggregate if schema changes
- Latency: &lt;5ms redirect, analytics delayed by ~60s (acceptable)</div>

      <h3 style="margin-top:24px">‚öôÔ∏è Thundering Herd ‚Äî Hot URL Problem</h3>
      <div class="diagram">Problem: Elon Musk tweets a shortened URL.
100,000 users click simultaneously.
Cache has just expired for that key.
‚Üí 100,000 requests all miss cache ‚Üí hit DB simultaneously
‚Üí DB melts üî•

Solution 1: Mutex/Lock on cache miss
  Only ONE request fetches from DB.
  Others wait on a lock, then read from cache.
  Redis SET NX (set if not exists) as distributed lock.

Solution 2: Probabilistic Early Expiry
  Before TTL hits zero, with some probability, refresh early:
  p = exp(-(ttl_remaining / (beta * delta)))
  If random() &lt; p ‚Üí refresh now (before expiry)
  ‚Üí No thundering herd, no lock needed

Solution 3: Two-tier caching
  L1: Per-server in-memory cache (1000 hot URLs, 1ms lookup)
  L2: Redis shared cache (all URLs, 5ms lookup)
  L3: Database (on L1+L2 miss, &lt;1% of traffic)</div>

      <h3 style="margin-top:24px">‚öôÔ∏è Consistent Hashing ‚Äî Distributing URLs Across Shards</h3>
      <div class="diagram">Problem: As data grows, add DB shards. But which shard holds which URL?

Naive modulo sharding: shard = hash(short_code) % num_shards
  Problem: Adding a shard reshuffles ALL URLs ‚Üí massive migration

Consistent Hashing:
  - Place shards on a "ring" (0 to 2^32)
  - Hash each shard's ID to a position on ring
  - For each URL: hash(short_code) ‚Üí position on ring
  - Walk clockwise to find first shard ‚Üí that's the owner

  Ring: ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  Shards: A(1000)  B(2000)  C(3000)
  URL hash 1500 ‚Üí clockwise ‚Üí lands on B
  URL hash 2500 ‚Üí clockwise ‚Üí lands on C

Adding shard D at position 1800:
  Only URLs between 1000-1800 move from B to D
  Everything else unchanged ‚úÖ

Virtual nodes: Each shard appears multiple times on ring
  ‚Üí Better distribution, less hotspotting</div>

      <h3 style="margin-top:24px">‚öôÔ∏è Security Deep Dive</h3>
      <table>
        <tr><th>Attack Vector</th><th>Risk</th><th>Defense</th></tr>
        <tr><td>Phishing via shortened URLs</td><td>Users tricked into visiting malicious sites</td><td>Google Safe Browsing API on URL creation; re-scan periodically</td></tr>
        <tr><td>URL enumeration</td><td>Sequential codes let attackers discover all URLs</td><td>Use random/hashed codes; add auth for private URLs</td></tr>
        <tr><td>Click fraud / bot traffic</td><td>Analytics inflation</td><td>User-agent filtering; rate limiting per IP; CAPTCHA on bulk creation</td></tr>
        <tr><td>Open redirect abuse</td><td>Your domain used in phishing campaigns</td><td>Allowlist domains; add interstitial warning page</td></tr>
        <tr><td>DDoS on redirect endpoint</td><td>Service outage</td><td>Rate limiting + CDN absorbs traffic; edge caching prevents origin hits</td></tr>
        <tr><td>Cache poisoning</td><td>Malicious URL cached, served to all users</td><td>Strict input validation; re-validate on cache write</td></tr>
      </table>

      <h3 style="margin-top:24px">‚öôÔ∏è Full Request Lifecycle (Production)</h3>
      <ol class="step-list">
        <li><strong>DNS Resolution</strong> ‚Äî User's browser resolves bit.ly ‚Üí CDN edge IP (Cloudflare/Fastly)</li>
        <li><strong>CDN Edge Check</strong> ‚Äî Is this short_code cached at the edge? If yes, 301/302 in &lt;5ms from edge node, request never reaches origin</li>
        <li><strong>Load Balancer</strong> ‚Äî Request reaches origin. L4/L7 LB (NGINX/AWS ALB) routes to healthy app server (health checks every 5s)</li>
        <li><strong>Rate Limit Check</strong> ‚Äî Token bucket check in Redis. If limit hit, return 429 with Retry-After header</li>
        <li><strong>App Server: Redis Lookup</strong> ‚Äî Check Redis for short_code ‚Üí long_url mapping. Cache hit ~95% of traffic</li>
        <li><strong>App Server: DB Lookup (cache miss)</strong> ‚Äî B+Tree index lookup on short_code. 3-4 disk reads. Result cached in Redis with TTL</li>
        <li><strong>Expiry Check</strong> ‚Äî If expires_at is set and past current time, return 404 / redirect to "expired" page</li>
        <li><strong>Redirect Response</strong> ‚Äî HTTP 301 or 302 with Location header set to long_url</li>
        <li><strong>Analytics Event</strong> ‚Äî Fire-and-forget Kafka message with click metadata (async, doesn't block response)</li>
      </ol>
    </div>

  </div>
</div>

</div><!-- /#deep-dives -->


<!-- ============================= RESOURCES ============================= -->
<div id="resources" class="resources-section">
  <div class="resources-header">
    <h2>üìö Curated Resource Library</h2>
    <p style="color: var(--text-muted); margin-top: 8px">Handpicked ‚Äî ranked by quality and applicability to your roadmap. Each link is worth your time.</p>
  </div>

  <!-- BIG-O RESOURCES -->
  <div style="padding: 24px 32px 0; border-bottom: 1px solid var(--border);">
    <h3 style="font-size:1.1em; font-weight:800; color: var(--accent); margin-bottom: 16px">üìä Big-O Complexity</h3>
  </div>
  <div class="resources-grid">
    <div class="resource-category">
      <h3 style="color:var(--red)">üé¨ Videos</h3>

      <a class="resource-link" href="https://www.youtube.com/watch?v=Mo4vesaut8g" target="_blank">
        <div class="resource-icon video">‚ñ∂Ô∏è</div>
        <div class="resource-info">
          <div class="resource-title">Big-O Notation ‚Äî CS Dojo<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">14 min ¬∑ Best visual explanation of growth rates. Clear, no fluff.</div>
        </div>
      </a>

      <a class="resource-link" href="https://www.youtube.com/watch?v=BgLTDT03QtU" target="_blank">
        <div class="resource-icon video">‚ñ∂Ô∏è</div>
        <div class="resource-info">
          <div class="resource-title">Big-O in 5 Minutes ‚Äî ByteByteGo<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">5 min ¬∑ Rapid visual cheat sheet, great for review.</div>
        </div>
      </a>

      <a class="resource-link" href="https://www.youtube.com/watch?v=zUUkiEllHG0" target="_blank">
        <div class="resource-icon video">‚ñ∂Ô∏è</div>
        <div class="resource-info">
          <div class="resource-title">Sorting Algorithms Visualized ‚Äî Timo Bingmann<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">15 min ¬∑ Watch sorting algorithms race ‚Äî builds deep intuition for why O(n log n) wins.</div>
        </div>
      </a>
    </div>

    <div class="resource-category">
      <h3 style="color:var(--accent)">üìÑ Articles &amp; Interactive</h3>

      <a class="resource-link" href="https://www.bigocheatsheet.com/" target="_blank">
        <div class="resource-icon visual">üìä</div>
        <div class="resource-info">
          <div class="resource-title">Big-O Cheat Sheet ‚Äî bigocheatsheet.com<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">The definitive reference poster. Print it. Every algorithm, data structure, and complexity in one place.</div>
        </div>
      </a>

      <a class="resource-link" href="https://www.desmos.com/calculator/uzrzvkfwqf" target="_blank">
        <div class="resource-icon visual">üìà</div>
        <div class="resource-info">
          <div class="resource-title">Complexity Curves ‚Äî Desmos Interactive<span class="resource-tag tag-free">Free</span><span class="resource-tag tag-visual">Visual</span></div>
          <div class="resource-meta">Drag n to see how O(n), O(n log n), O(n¬≤) diverge. Builds visceral intuition.</div>
        </div>
      </a>

      <a class="resource-link" href="https://www.programiz.com/dsa/algorithm-complexity" target="_blank">
        <div class="resource-icon article">üìù</div>
        <div class="resource-info">
          <div class="resource-title">Algorithm Complexity ‚Äî Programiz<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">Step-by-step derivations of Big-O for common patterns with worked examples.</div>
        </div>
      </a>
    </div>

    <div class="resource-category">
      <h3 style="color:var(--green)">üìö Books / Deep Reading</h3>

      <a class="resource-link" href="https://www.amazon.in/Introduction-Algorithms-Thomas-H-Cormen/dp/0262046305" target="_blank">
        <div class="resource-icon book">üìó</div>
        <div class="resource-info">
          <div class="resource-title">CLRS ‚Äî Introduction to Algorithms<span class="resource-tag tag-paid">Paid</span></div>
          <div class="resource-meta">Chapter 3 (Growth of Functions) + Appendix A (recurrences). The mathematical bible ‚Äî go here for amortized analysis proofs.</div>
        </div>
      </a>

      <a class="resource-link" href="https://www.algorist.com/" target="_blank">
        <div class="resource-icon book">üìï</div>
        <div class="resource-info">
          <div class="resource-title">Algorithm Design Manual ‚Äî Skiena<span class="resource-tag tag-paid">Paid</span></div>
          <div class="resource-meta">More practical than CLRS. War stories from real-world algorithm problems. Great "algorithm catalog" section.</div>
        </div>
      </a>
    </div>
  </div>

  <!-- ARRAY RESOURCES -->
  <div style="padding: 24px 32px 0; border-bottom: 1px solid var(--border); border-top: 2px solid var(--border);">
    <h3 style="font-size:1.1em; font-weight:800; color: var(--accent); margin-bottom: 16px">üî¢ Array Algorithms &amp; DSA Practice</h3>
  </div>
  <div class="resources-grid">
    <div class="resource-category">
      <h3 style="color:var(--red)">üé¨ Videos / Courses</h3>

      <a class="resource-link" href="https://www.youtube.com/watch?v=KLlXCFG5TnA" target="_blank">
        <div class="resource-icon video">‚ñ∂Ô∏è</div>
        <div class="resource-info">
          <div class="resource-title">Two Pointers ‚Äî NeetCode<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">12 min ¬∑ Best explanation of two-pointer pattern with 3 worked problems. NeetCode is the gold standard for pattern-based learning.</div>
        </div>
      </a>

      <a class="resource-link" href="https://www.youtube.com/watch?v=MK-NZ4hN7rs" target="_blank">
        <div class="resource-icon video">‚ñ∂Ô∏è</div>
        <div class="resource-info">
          <div class="resource-title">Sliding Window ‚Äî NeetCode<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">10 min ¬∑ Fixed and variable window patterns with visual walkthrough.</div>
        </div>
      </a>

      <a class="resource-link" href="https://neetcode.io/roadmap" target="_blank">
        <div class="resource-icon course">üó∫</div>
        <div class="resource-info">
          <div class="resource-title">NeetCode Roadmap<span class="resource-tag tag-free">Free</span><span class="resource-tag tag-interactive">Interactive</span></div>
          <div class="resource-meta">The best structured DSA roadmap. Follows exact patterns you need. 150 problems organized by type with video solutions.</div>
        </div>
      </a>
    </div>

    <div class="resource-category">
      <h3 style="color:var(--purple)">üíª Practice Platforms</h3>

      <a class="resource-link" href="https://leetcode.com/study-plan/leetcode-75/" target="_blank">
        <div class="resource-icon practice">‚öîÔ∏è</div>
        <div class="resource-info">
          <div class="resource-title">LeetCode 75 Study Plan<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">75 curated problems covering every essential pattern. The minimum viable problem set for interviews.</div>
        </div>
      </a>

      <a class="resource-link" href="https://www.patterns.dev/" target="_blank">
        <div class="resource-icon article">üìù</div>
        <div class="resource-info">
          <div class="resource-title">Leetcode Patterns ‚Äî Sean Prashad<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">github.com/seanprashad/leetcode-patterns ‚Äî problems sorted by pattern (sliding window, prefix sum etc.) not difficulty.</div>
        </div>
      </a>

      <a class="resource-link" href="https://visualgo.net/en/sorting" target="_blank">
        <div class="resource-icon visual">üé®</div>
        <div class="resource-info">
          <div class="resource-title">VisuAlgo ‚Äî Algorithm Visualizer<span class="resource-tag tag-free">Free</span><span class="resource-tag tag-visual">Visual</span></div>
          <div class="resource-meta">Step-by-step animation of sorting, searching, graphs, trees. Click "play" and watch merge sort live. Irreplaceable for visual learners.</div>
        </div>
      </a>
    </div>

    <div class="resource-category">
      <h3 style="color:var(--yellow)">üìä Visualizations</h3>

      <a class="resource-link" href="https://www.cs.usfca.edu/~galles/visualization/Algorithms.html" target="_blank">
        <div class="resource-icon visual">üé¨</div>
        <div class="resource-info">
          <div class="resource-title">USFCA Algorithm Visualizations<span class="resource-tag tag-free">Free</span><span class="resource-tag tag-visual">Visual</span></div>
          <div class="resource-meta">Interactive step-through of B-Trees, AVL Trees, sorting, hashing. Click through B-Tree insertions to see splits live.</div>
        </div>
      </a>

      <a class="resource-link" href="https://algorithm-visualizer.org/" target="_blank">
        <div class="resource-icon visual">‚ö°</div>
        <div class="resource-info">
          <div class="resource-title">Algorithm Visualizer<span class="resource-tag tag-free">Free</span><span class="resource-tag tag-interactive">Interactive</span></div>
          <div class="resource-meta">Run actual code and watch it animate. Prefix sum, sorting, graph traversal ‚Äî all with live code.</div>
        </div>
      </a>

      <a class="resource-link" href="https://pythontutor.com/" target="_blank">
        <div class="resource-icon visual">üêç</div>
        <div class="resource-info">
          <div class="resource-title">Python Tutor ‚Äî Code Execution Visualizer<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">Paste any Python/Java/JS code and see variables, stack, heap update live as it runs. Essential for understanding recursion and pointers.</div>
        </div>
      </a>
    </div>
  </div>

  <!-- SQL / INDEXING RESOURCES -->
  <div style="padding: 24px 32px 0; border-bottom: 1px solid var(--border); border-top: 2px solid var(--border);">
    <h3 style="font-size:1.1em; font-weight:800; color: var(--orange); margin-bottom: 16px">üóÑ SQL Indexing &amp; Database Internals</h3>
  </div>
  <div class="resources-grid">
    <div class="resource-category">
      <h3 style="color:var(--red)">üé¨ Videos</h3>

      <a class="resource-link" href="https://www.youtube.com/watch?v=fsG1XaZEa78" target="_blank">
        <div class="resource-icon video">‚ñ∂Ô∏è</div>
        <div class="resource-info">
          <div class="resource-title">Database Indexing ‚Äî Hussein Nasser<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">26 min ¬∑ The single best video on how B-Tree indexes actually work at the page level. Includes live PostgreSQL demos.</div>
        </div>
      </a>

      <a class="resource-link" href="https://www.youtube.com/watch?v=HubezKbFL7E" target="_blank">
        <div class="resource-icon video">‚ñ∂Ô∏è</div>
        <div class="resource-info">
          <div class="resource-title">How Databases Work Internally ‚Äî Fireship<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">7 min ¬∑ Fast, engaging overview of pages, B-Trees, WAL, MVCC. Great refresher before interviews.</div>
        </div>
      </a>

      <a class="resource-link" href="https://www.youtube.com/watch?v=oeYBdghaIjc" target="_blank">
        <div class="resource-icon video">‚ñ∂Ô∏è</div>
        <div class="resource-info">
          <div class="resource-title">Indexing in PostgreSQL ‚Äî CMU Database Group<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">45 min lecture ¬∑ Andy Pavlo's legendary database course. Deep dive into B+Trees, hash indexes, covering indexes. Watch at 1.5√ó.</div>
        </div>
      </a>
    </div>

    <div class="resource-category">
      <h3 style="color:var(--accent)">üìÑ Articles &amp; Docs</h3>

      <a class="resource-link" href="https://use-the-index-luke.com/" target="_blank">
        <div class="resource-icon article">üèÜ</div>
        <div class="resource-info">
          <div class="resource-title">Use The Index, Luke ‚Äî Markus Winand<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">The definitive free book on SQL indexing. Covers B-Tree internals, composite indexes, range scans, execution plans. Bookmark this.</div>
        </div>
      </a>

      <a class="resource-link" href="https://www.postgresql.org/docs/current/indexes.html" target="_blank">
        <div class="resource-icon article">üìù</div>
        <div class="resource-info">
          <div class="resource-title">PostgreSQL Official Index Documentation<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">Primary source for all index types: B-Tree, Hash, GiST, GIN, BRIN. Read chapters 11-12 on indexes and EXPLAIN.</div>
        </div>
      </a>

      <a class="resource-link" href="https://planetscale.com/blog/how-read-mysql-explains" target="_blank">
        <div class="resource-icon article">üìù</div>
        <div class="resource-info">
          <div class="resource-title">How to Read MySQL EXPLAIN ‚Äî PlanetScale<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">Practical guide to reading MySQL/PostgreSQL EXPLAIN output. Real examples of what to look for and how to fix bad plans.</div>
        </div>
      </a>
    </div>

    <div class="resource-category">
      <h3 style="color:var(--green)">üìö Books</h3>

      <a class="resource-link" href="https://www.oreilly.com/library/view/high-performance-mysql/9781492080503/" target="_blank">
        <div class="resource-icon book">üìó</div>
        <div class="resource-info">
          <div class="resource-title">High Performance MySQL ‚Äî O'Reilly<span class="resource-tag tag-paid">Paid</span></div>
          <div class="resource-meta">Chapters 4-5 (Optimizing Schema + Indexes). The production engineer's bible. Every indexing mistake is documented here.</div>
        </div>
      </a>

      <a class="resource-link" href="https://dataintensive.net/" target="_blank">
        <div class="resource-icon book">üìï</div>
        <div class="resource-info">
          <div class="resource-title">Designing Data-Intensive Applications ‚Äî Kleppmann<span class="resource-tag tag-paid">Paid</span></div>
          <div class="resource-meta">Chapter 3 (Storage and Retrieval) ‚Äî LSM Trees vs B-Trees, SSTables, write-ahead logging. The system design bible. Non-negotiable reading.</div>
        </div>
      </a>

      <a class="resource-link" href="https://www.cs.cmu.edu/~natassa/courses/15-721/papers/btree-survey-graefe.pdf" target="_blank">
        <div class="resource-icon book">üìÑ</div>
        <div class="resource-info">
          <div class="resource-title">Modern B-Tree Techniques ‚Äî Graefe (CMU Paper)<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">Academic deep dive. Read if you want to understand B-Trees at implementation level ‚Äî page splits, bulk loading, concurrency.</div>
        </div>
      </a>
    </div>
  </div>

  <!-- SYSTEM DESIGN RESOURCES -->
  <div style="padding: 24px 32px 0; border-bottom: 1px solid var(--border); border-top: 2px solid var(--border);">
    <h3 style="font-size:1.1em; font-weight:800; color: var(--green); margin-bottom: 16px">üèó System Design</h3>
  </div>
  <div class="resources-grid">
    <div class="resource-category">
      <h3 style="color:var(--red)">üé¨ Videos</h3>

      <a class="resource-link" href="https://www.youtube.com/watch?v=fMZMm_0ZhK4" target="_blank">
        <div class="resource-icon video">‚ñ∂Ô∏è</div>
        <div class="resource-info">
          <div class="resource-title">Design TinyURL ‚Äî Gaurav Sen<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">23 min ¬∑ Solid walkthrough of URL shortener design including hashing strategy, DB choice, caching. Watch before your interview.</div>
        </div>
      </a>

      <a class="resource-link" href="https://www.youtube.com/watch?v=UF9Iqmg94tk" target="_blank">
        <div class="resource-icon video">‚ñ∂Ô∏è</div>
        <div class="resource-info">
          <div class="resource-title">Design URL Shortener ‚Äî ByteByteGo<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">9 min ¬∑ Alex Xu's visual breakdown ‚Äî clean diagrams, great for quick review. Accompanies System Design Interview book.</div>
        </div>
      </a>

      <a class="resource-link" href="https://www.youtube.com/@ByteByteGo" target="_blank">
        <div class="resource-icon video">‚ñ∂Ô∏è</div>
        <div class="resource-info">
          <div class="resource-title">ByteByteGo YouTube Channel<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">Best visual system design videos on YouTube. Every topic is a 5-10 min animated explainer. Subscribe and watch 2 per day.</div>
        </div>
      </a>
    </div>

    <div class="resource-category">
      <h3 style="color:var(--accent)">üìÑ Articles / References</h3>

      <a class="resource-link" href="https://github.com/donnemartin/system-design-primer" target="_blank">
        <div class="resource-icon article">‚≠ê</div>
        <div class="resource-info">
          <div class="resource-title">System Design Primer ‚Äî Donne Martin (GitHub)<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">250K+ stars. Comprehensive reference: CAP theorem, consistency, caching, CDN, load balancing, sharding. The free bible of system design.</div>
        </div>
      </a>

      <a class="resource-link" href="https://highscalability.com/" target="_blank">
        <div class="resource-icon article">üåê</div>
        <div class="resource-info">
          <div class="resource-title">High Scalability Blog<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">Real architecture breakdowns from companies at scale: YouTube, Twitter, Netflix, Amazon. Read these to understand tradeoffs in practice.</div>
        </div>
      </a>

      <a class="resource-link" href="https://www.allthingsdistributed.com/2007/10/amazons_dynamo.html" target="_blank">
        <div class="resource-icon article">üìù</div>
        <div class="resource-info">
          <div class="resource-title">Amazon Dynamo Paper ‚Äî Werner Vogels<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">Original consistent hashing paper. Foundational reading for distributed systems. Sections 4 (partitioning) and 5 (replication) are most relevant.</div>
        </div>
      </a>
    </div>

    <div class="resource-category">
      <h3 style="color:var(--green)">üìö Books</h3>

      <a class="resource-link" href="https://www.amazon.in/System-Design-Interview-Insiders-Guide/dp/1736049119" target="_blank">
        <div class="resource-icon book">üìó</div>
        <div class="resource-info">
          <div class="resource-title">System Design Interview ‚Äî Alex Xu (Vol 1 &amp; 2)<span class="resource-tag tag-paid">Paid</span></div>
          <div class="resource-meta">Chapter 8 = URL Shortener. Clean, interview-focused. Best book to start with. Pairs perfectly with ByteByteGo videos.</div>
        </div>
      </a>

      <a class="resource-link" href="https://dataintensive.net/" target="_blank">
        <div class="resource-icon book">üìï</div>
        <div class="resource-info">
          <div class="resource-title">Designing Data-Intensive Applications ‚Äî Kleppmann<span class="resource-tag tag-paid">Paid</span></div>
          <div class="resource-meta">The engineering bible. Read cover to cover over 3 months. Covers replication, partitioning, consistency, stream processing. Life-changing book.</div>
        </div>
      </a>

      <a class="resource-link" href="https://www.amazon.in/Software-Engineering-Google-Lessons-Programming/dp/1492082791" target="_blank">
        <div class="resource-icon book">üìò</div>
        <div class="resource-info">
          <div class="resource-title">Software Engineering at Google ‚Äî Winters et al.<span class="resource-tag tag-paid">Paid</span></div>
          <div class="resource-meta">Production engineering practices at scale. Chapter on large-scale systems is directly applicable to interview system design discussions.</div>
        </div>
      </a>
    </div>
  </div>

  <!-- TOOLS & PLAYGROUNDS -->
  <div style="padding: 24px 32px 0; border-top: 2px solid var(--border);">
    <h3 style="font-size:1.1em; font-weight:800; color: var(--purple); margin-bottom: 16px">üõ† Tools &amp; Playgrounds</h3>
  </div>
  <div class="resources-grid">
    <div class="resource-category">
      <h3 style="color:var(--purple)">‚ö° Practice Tools</h3>

      <a class="resource-link" href="https://excalidraw.com/" target="_blank">
        <div class="resource-icon visual">‚úèÔ∏è</div>
        <div class="resource-info">
          <div class="resource-title">Excalidraw ‚Äî System Design Diagramming<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">Free whiteboard tool. Use to practice drawing system design diagrams before interviews. Has pre-built icons for servers, DBs, caches.</div>
        </div>
      </a>

      <a class="resource-link" href="https://dbdiagram.io/" target="_blank">
        <div class="resource-icon visual">üóÑ</div>
        <div class="resource-info">
          <div class="resource-title">dbdiagram.io ‚Äî Schema Designer<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">Draw DB schemas visually. Practice designing the URL shortener schema, add indexes, see relationships. Great for interview prep.</div>
        </div>
      </a>

      <a class="resource-link" href="https://explain.dalibo.com/" target="_blank">
        <div class="resource-icon article">üîç</div>
        <div class="resource-info">
          <div class="resource-title">PostgreSQL EXPLAIN Visualizer ‚Äî Dalibo<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">Paste your EXPLAIN output, get a visual tree. Makes understanding query plans 10√ó easier than reading raw text.</div>
        </div>
      </a>
    </div>

    <div class="resource-category">
      <h3 style="color:var(--yellow)">üéØ Interview Prep Platforms</h3>

      <a class="resource-link" href="https://interviewing.io/" target="_blank">
        <div class="resource-icon practice">üéô</div>
        <div class="resource-info">
          <div class="resource-title">interviewing.io ‚Äî Mock Interviews<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">Anonymous mock interviews with real engineers from FAANG. Free practice rounds available. Best way to simulate real interview pressure.</div>
        </div>
      </a>

      <a class="resource-link" href="https://www.pramp.com/" target="_blank">
        <div class="resource-icon practice">üë•</div>
        <div class="resource-info">
          <div class="resource-title">Pramp ‚Äî Peer Mock Interviews<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">Practice with other candidates. Alternating interviewer/interviewee roles. Great for learning how to articulate solutions clearly.</div>
        </div>
      </a>

      <a class="resource-link" href="https://www.techinterviewhandbook.org/" target="_blank">
        <div class="resource-icon article">üìã</div>
        <div class="resource-info">
          <div class="resource-title">Tech Interview Handbook ‚Äî Yangshun<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">End-to-end interview guide from resume to offer negotiation. Grind 75 problem list, behavioral questions, salary negotiation. Bookmarked by millions.</div>
        </div>
      </a>
    </div>

    <div class="resource-category">
      <h3 style="color:var(--orange)">üì∫ YouTube Channels (Subscribe)</h3>

      <a class="resource-link" href="https://www.youtube.com/@NeetCode" target="_blank">
        <div class="resource-icon video">‚ñ∂Ô∏è</div>
        <div class="resource-info">
          <div class="resource-title">NeetCode ‚Äî DSA<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">Best pattern-based DSA solutions. Every LeetCode problem explained with clean code and complexity analysis. The gold standard.</div>
        </div>
      </a>

      <a class="resource-link" href="https://www.youtube.com/@ByteByteGo" target="_blank">
        <div class="resource-icon video">‚ñ∂Ô∏è</div>
        <div class="resource-info">
          <div class="resource-title">ByteByteGo ‚Äî System Design<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">Alex Xu's channel. Animated system design explainers, 5-10 mins each. Watch 2 daily as part of your routine.</div>
        </div>
      </a>

      <a class="resource-link" href="https://www.youtube.com/@hnasr" target="_blank">
        <div class="resource-icon video">‚ñ∂Ô∏è</div>
        <div class="resource-info">
          <div class="resource-title">Hussein Nasser ‚Äî Backend/DB Internals<span class="resource-tag tag-free">Free</span></div>
          <div class="resource-meta">Deep dives into PostgreSQL, TCP, proxies, database internals. Goes deeper than any other YouTube channel on backend engineering.</div>
        </div>
      </a>
    </div>
  </div>

  <div style="padding: 24px 32px; border-top: 1px solid var(--border); background: rgba(88,166,255,0.03);">
    <div class="callout callout-info" style="margin:0">
      <div class="callout-title">üó∫ Recommended Learning Order for These Resources</div>
      <p style="margin-bottom:8px">Follow this sequence for maximum retention:</p>
      <ol style="padding-left: 20px; margin: 0;">
        <li style="margin-bottom:6px"><strong>Watch</strong> the NeetCode / ByteByteGo video on the topic first (5-25 min) ‚Äî builds intuition</li>
        <li style="margin-bottom:6px"><strong>Read</strong> the corresponding section in this handbook ‚Äî deepens understanding</li>
        <li style="margin-bottom:6px"><strong>Visualize</strong> with VisuAlgo / USFCA for data structures, Desmos for complexity curves</li>
        <li style="margin-bottom:6px"><strong>Practice</strong> 2-3 LeetCode problems from the corresponding pattern</li>
        <li style="margin-bottom:6px"><strong>Reference</strong> Use The Index Luke / System Design Primer for deeper reading</li>
        <li style="margin-bottom:0"><strong>Mock interview</strong> on Pramp or interviewing.io once per week minimum</li>
      </ol>
    </div>
  </div>
</div>

</div> <!-- /container -->
</body>
</html>